webpackJsonp([2],{1754:function(e,t,n){e.exports={controllerViews:{Header:n(2447),ProfileCard:n(2023),ShareReminder:n(2193)},stores:{HeaderStore:n(1780),MailStore:n(1788),MobileHeaderStore:n(1837),NavStore:n(1936),ThemeStore:n(1810),UHCrumbsStore:n(1794)},meta:{dependencies:["tdv2-applet-account-switch","tdv2-applet-search-input","tdv2-applet-trending","tdv2-service-profile"]}}},1778:function(e,t,n){var s={get:n(43)},i=Object.assign,o=/yahoo.com/,a=null;e.exports={getStaticMethod:function(e,t,n){var s=null;if(e&&e[t])if(Array.isArray(n)){s=e[t];for(var i=0;i<n.length;i++){if(!s[n[i]]){s=null;break}s=s[n[i]]}}else"string"==typeof n&&e[t][n]&&(s=e[t][n]);return s},lightWeightBackground:function(e,t,n,s){e=e?"."+e:"";var i="";return"dark"===s&&(i=["#atomic "+e+"."+n+"."+t+" .Bgc\\(\\$bg-header\\)","{background-color:#000\\9 !important;}","#atomic "+e+"."+n+"."+t+" .Bgc\\(\\$bg-header\\):hover","#atomic "+e+"."+n+"."+t+" .Bgc\\(\\$bg-header\\):hover b","#atomic "+e+"."+n+"."+t+" .Bgc\\(\\$bg-header\\) b:hover","{background-color:#fff\\9 !important; color:#000\\9 !important;}"].join(" ")),i},lightWeightLogo:function(e,t){return"property"===t?["#atomic.ie-7 "+e+" {*display:inline; margin-left:49px!important; zoom:1;}","#atomic.ie-8 "+e+" {position:relative;}"].join(" "):""},mediaBackgroundImage:function(e,t,n){return[e+" {background-image: url("+t+");}","@media",[" only screen and ( -webkit-min-device-pixel-ratio: 2 )"," only screen and ( min--moz-device-pixel-ratio: 2)"," only screen and ( -o-min-device-pixel-ratio: 2/1)"," only screen and ( min-device-pixel-ratio: 2)"," only screen and ( min-resolution: 192dpi)"," only screen and ( min-resolution: 2dppx)"," only screen and ( min-aspect-ratio: 2/1 )"].join(","),"{ "+e+" {background-image: url("+n+");} }"].join(" ")},isClient:function(){return"undefined"!=typeof window},isEnabled:function(e){return["true","1",!0,1].indexOf(e)>-1},strExpand:function(e,t,n){return t&&(e=t+e),n&&(e+=n),e},getLogoUrl:function(e,t,s){var i={protocol:t=t||"https",host:e?e+".yahoo.com":"www.yahoo.com"};switch(e){case"e1":i.host="espanol.yahoo.com";break;case"my":i.host="malaysia.yahoo.com";break;case"us":i.host="www.yahoo.com";break;case"xe":i.host="en-maktoob.yahoo.com"}return s&&"fp"!==s&&"all"!==s&&(i.pathname=s),n(24).format(i)},getPageUrl:function(e,t,s){var o="https://www.yahoo.com/",a={protocol:s||"https",host:t||"www.yahoo.com"};if(e)if(e.url){var r=n(24).parse(e.url,!0);r=i(r,a),o=n(24).format(r)}else o=n(24).format(a);return o},handleBackClick:function(e){if(window){var t=n(2)(window,["history","state","referrerUrl"],document&&document.referrer),s=window.location,i=s.origin||s.protocol+"//"+s.host,r=this.getLogoUrl(e.dimensions.intl,e.protocol),l=n(2)(e.dimensions,["device"],""),c="smartphone"===l||"smartphone-lite"===l;if(a)return clearTimeout(a),a=null,void(window.location=r);o.test(t)||-1!==t.indexOf(i)?(history.back(),c&&(a=setTimeout(function(){window.location=r},6e3))):window.location=r}},getSite:function(e){var t,i=e.getStore(n(26)),o=i&&i.getCurrentRoute();return(t=s.get(o,"params.contentSite"))||(t=s.get(o,"contentSite")),t||(t=s.get(o,"query.site")),t},getSubcookie:function(e){return n(104)&&n(104).getSub&&n(104).getSub("ucs",e)},getPromoIdSubcookie:function(){return this.getSubcookie("pnid")},getPromoTimestampSubcookie:function(){var e=this.getSubcookie("pnct");return e?parseInt(e,10):0},getNotifTimestampSubcookie:function(){var e=this.getSubcookie("lnct");return e?parseInt(e,10):0},getCookieOptions:function(){var e=(new Date).setFullYear((new Date).getFullYear()+1);return{expires:new Date(e),path:"/",domain:"yahoo.com",encode:function(e){return e}}},setBackoffSubcookie:function(e){if(e){var t=Math.floor((new Date).getTime()/1e3),s=this.getCookieOptions();n(104)&&n(104).setSub&&n(104).setSub("ucs",e,t,s)}},resetPromoNotifSubcookie:function(){var e=this.getCookieOptions();n(104)&&n(104).get("ucs")&&(n(104).setSub&&n(104).setSub("ucs","pnid","",e),n(104).setSub&&n(104).setSub("ucs","pnct","",e))},setPromoNotifSubcookie:function(e,t,s){n(104)&&n(104).setSub&&n(104).setSub("ucs","pnid",e,s),n(104)&&n(104).setSub&&n(104).setSub("ucs","pnct",t,s)},isBackoffTimerExceeded:function(e,t){var n=this.getSubcookie(t),s=n?parseInt(n,10):0;return s?Math.floor((new Date).getTime()/1e3)-s>e:(this.setBackoffSubcookie(t),!0)},initSubscriptionHelper:function(e,t){var s=JSON.parse(JSON.stringify(t)),i=Object.assign({bucket:e.session.bucketLogString,userAgent:e.session.userAgent},s);i.subscriptionService=i.subscriptionService||{},i.subscriptionService.path=e.service.constructGetXhrUri("RESOURCE_PLACEHOLDER");var o=n(93).RapidManager&&n(93).RapidManager.getRapidInstance();e.subscriptionHelper.setSubscriptionHelper(i,e.beacon,o)},isFacebookApp:function(){if("undefined"!=typeof window){var e=window.navigator&&window.navigator.userAgent;return e.indexOf("FBAN")>-1||e.indexOf("FBAV")>-1}},debounce:function(e,t){var n=null;return function(){var s=this,i=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(s,i)},t)}}}},1779:function(e,t,n){"use strict";var s={merge:n(28),get:n(43)},i=n(1557)("uh:mixins:AppletMixin");e.exports={contextTypes:{conf:n(0).object,intl:n(0).object,logger:n(0).object,theme:n(0).object},getClassName:function(e,t){var s,o=null;return(!(o=this.getConf(e,t))||n(5).Map.isMap(o)&&o.isEmpty())&&(o=(s=n(1778).getStaticMethod(e,"className",t))&&this[s]&&this[s].call(this,t)),o||(o=this.getTheme(e,t)),o=n(5).Map.isMap(o)?o.toJS():o,i(e.displayName,"getClassName",t,o),o},getConf:function(e,t){var s,o,a=null;return(s=e.base?this.context.conf.getIn(e.base):this.context.conf)&&(Array.isArray(t)?a=s.getIn(t):"string"==typeof t&&(a=s.get(t))),a||(o=n(1778).getStaticMethod(e,"conf",t))&&this[o]&&(a=this[o].call(this)),i(e.displayName,"getConf",t,a),a},getMetaData:function(e,t){var s,o,a=null;return this.props&&this.props.data&&(o=this.props.data,n(5).Map.isMap(o)||(this.context&&this.context.logger&&this.context.logger.warn("The this.props.data is not an Immutable object. name=",t),o=n(5).fromJS(this.props.data)),Array.isArray(t)?a=o.getIn(t):"string"==typeof t&&(a=o.get(t))),a||(s=n(1778).getStaticMethod(e,"metaData",t))&&this[s]&&(a=this[s].call(this)),i(e.displayName,"getMetaData",t,a),a},getI13n:function(e,t,n){var o=e.i13n[t];return n&&(o=s.merge(o,n)),i(e.displayName,"getI13n",t,o,n),o},getIntl:function(e){var t;try{t=this.context.intl.formatMessage({id:e}),i("getIntl",e,t)}catch(t){this.context&&this.context.logger&&this.context.logger.warn('The paramter "name" is not defined in getIntl method. name=',e,t)}return t},getSite:function(e){var t=n(1778).getSite(this.context);return i(e.displayName,"getSite",t),t},getTheme:function(e,t){var n=null,s=null;return this.context&&this.context.theme&&e.base?s=this.context.theme.getIn(e.base):this.context&&(s=this.context.theme),s&&(Array.isArray(t)?n=s.getIn(t):"string"==typeof t&&(n=s.get(t))),i(e.displayName,"getTheme",t,n),n}}},1780:function(e,t,n){"use strict";var s=n(1557)("uh:stores:HeaderStore"),i=n(57).createImmutableStore({storeName:"HeaderStore",initialize:function(){this._state=n(5).fromJS({})},handlers:{FFPROMO_SHOW_STATE:"_receiveShowFFPromo"},_receiveShowFFPromo:function(e){s("receive ShowFFPromo",e),this.setState(this._state.withMutations(function(t){t.set("showFFPromo",e.show)}))},getShowFFPromo:function(){return this._state.get("showFFPromo")},getState:function(){return this._state}});e.exports=i},1788:function(e,t,n){"use strict";var s=n(27)({storeName:"MailStore",statics:{handlers:{FETCH_MAIL_COUNT:"setFetching",SET_UNAUTHORIZEDUSER:"setUnauthorizedUser",NEW_MAIL_COUNT:"_receiveNewMailCount",MAIL_COUNT_TS:"_updateTs",OPEN_MAILPREVIEW_SUCCESS:"_openMailPreviewSuccess",OPEN_MAILPREVIEW_FAILURE:"_openMailPreviewFailure",OPEN_MAILPREVIEW_NO_NEW:"_openMailPreviewNoNew"}},initialize:function(){this.state={unauthorizedUser:!1,fetching:!1,mailcount:-1,mailitems:null,ts:0}},_receiveNewMailCount:function(e){this.state.mailcount=e,this.state.fetching=!1,this.state.unauthorizedUser=!1,this.emitChange()},getMailCount:function(){return parseInt(this.state.mailcount,10)},getMailPreview:function(){return this.state.mailitems},getFetching:function(){return this.state.fetching},getUnauthorizedUser:function(){return this.state.unauthorizedUser},getTs:function(){return this.state.ts},setFetching:function(e){this.state.fetching=e},setUnauthorizedUser:function(e){this.state.unauthorizedUser=e},_openMailPreviewSuccess:function(e){this.state.mailitems=Array.isArray(e)?e:[e],this.state.unauthorizedUser=!1,this.emitChange()},_openMailPreviewFailure:function(){this.state.mailitems=-1,this.emitChange()},_openMailPreviewNoNew:function(){this.state.mailitems=[],this.emitChange()},_updateTs:function(){this.state.ts=Date.now()},dehydrate:function(){return{mailcount:this.state.mailcount,mailitems:this.state.mailitems}},rehydrate:function(e){return this.state.mailitems=e.mailitems||this.state.mailitems,this.state.mailcount=e.mailcount||this.state.mailcount,this}});e.exports=s},1794:function(e,t,n){"use strict";var s=n(27)({storeName:"UHCrumbsStore",statics:{handlers:{FETCH_UHCRUMBS_SUCCESS:"_receiveCrumbs",FETCH_UHCRUMBS:"startIsFetching",FETCH_UHCRUMBS_FAILURE:"endIsFetching"}},initialize:function(){this.state={ucsCrumb:null,mailCountCrumb:null,isFetching:!1,tries:0}},_receiveCrumbs:function(e){this.state.ucsCrumb=e.ucsCrumb,this.state.mailCountCrumb=e.mailCountCrumb,this.state.tries=0,this.state.isFetching=!1},endIsFetching:function(){this.state.isFetching=!1},startIsFetching:function(){this.state.tries++,this.state.isFetching=!0},getIsFetching:function(){return this.state.isFetching},getTries:function(){return this.state.tries},getUcsCrumb:function(){return this.state.ucsCrumb},getMailCountCrumb:function(){return this.state.mailCountCrumb},dehydrate:function(){return{ucsCrumb:this.state.ucsCrumb,mailCountCrumb:this.state.mailCountCrumb,isFetching:this.state.isFetching=!1,tries:this.state.tries}},rehydrate:function(e){return this.state.ucsCrumb=e&&e.ucsCrumb?e.ucsCrumb:this.state.ucsCrumb,this.state.mailCountCrumb=e&&e.mailCountCrumb?e.mailCountCrumb:this.state.mailCountCrumb,this.state.isFetching=e&&e.isFetching?e.isFetching:this.state.isFetching,this.state.tries=e&&e.tries?e.tries:this.state.tries,this}});e.exports=s},1800:function(e,t,n){"use strict";var s={get:n(43)},i=n(1557)("uh:actions:UHCrumbsActions"),o=n(1778).isClient();var a={initializeUHCrumbs:function(e,t,a){if("0"===e.session.dimensions.authed||!o&&"client"===function(e){return s.get(e,"componentProps.componentConfig.uh.profile.mode")}(t))return a&&a(null,null);var r=e.getStore(n(1794)),l=r.getUcsCrumb(),c=r.getMailCountCrumb();l||c||r.getIsFetching()?a&&a():(e.dispatch("FETCH_UHCRUMBS"),e.service.read("UHCrumbsService",{xhrCheck:o},{},function(t,n){if(i("UHCrumbs data",n),t||!n)return e.dispatch("FETCH_UHCRUMBS_FAILURE",t),a(t,null);e.dispatch("FETCH_UHCRUMBS_SUCCESS",{ucsCrumb:encodeURIComponent(n.ucsCrumb),mailCountCrumb:encodeURIComponent(n.mailCountCrumb)}),a&&a()}))}};e.exports=a},1810:function(e,t,n){"use strict";var s=n(1557)("uh:stores:ThemeStore"),i=n(57).createImmutableStore({storeName:"ThemeStore",handlers:{THEME_FAILURE:"_handleThemeFailure",THEME_SUCCESS:"_handleThemeSuccess"},commonDimensionsMap:n(5).Map(),_handleThemeFailure:function(e){s("_handleThemeFailure","error",e),e=e||{},this.setState(this._state.withMutations(function(t){t.set("error",n(5).fromJS(e))}))},_handleThemeSuccess:function(e){s("_handleThemeSuccess","payload",e);var t=e.data||{},i=this.getCacheKey(e.params);s("_handleThemeSuccess","cache_key",i),this.setState(this._state.withMutations(function(e){e.set("last_accessed_cache_key",i),e.setIn(["data",i],n(5).fromJS(t))}))},getCacheKey:function(e){var t=this.getCommonDimensions();return t=t.merge(e),s("cache_key",t,t.hashCode()),t.hashCode()+""},getCommonDimensions:function(){var e=this.getContext().session.dimensions,t=n(5).Map();return 0===this.commonDimensionsMap.size&&n(2018)[0].dimensions.forEach(function(e){this.commonDimensionsMap=this.commonDimensionsMap.set(Object.keys(e)[0],1)}.bind(this)),Object.keys(e).forEach(function(n){this.commonDimensionsMap.has(n)&&(t=t.set(n,e[n]))}.bind(this)),t},getError:function(){return this._state.getIn(["error"])||n(5).Map()},getData:function(){return this._state.getIn(["data"])||n(5).Map()},getCachedData:function(e,t){var i=this.getCacheKey(e),o=this._state.get("last_accessed_cache_key");return s("getCachedData","data",this.getData()),s("getCachedData","cache_key",i),s("getCachedData","last_accessed_cache_key",o),(t?this._state.getIn(["data",i])||this._state.getIn(["data",o]):this._state.getIn(["data",i]))||n(5).Map()},getState:function(){return this._state}});e.exports=i},1837:function(e,t,n){"use strict";var s={get:n(43)},i=n(57).createImmutableStore({storeName:"MobileHeaderStore",initialize:function(){this._state=n(5).fromJS({navTitle:"home",useNavTitle:!1})},statics:{handlers:{NAVIGATE_SUCCESS:"setHeaderTitle",SET_NAVTRIGGER:"setNavTrigger",ON_STREAM_FOLLOW:"setFollowAnimationState",ON_FOLLOW_ANIM_END:"setFollowAnimationState"}},setHeaderTitle:function(e){var t,n,i=e.route?e.route:e,o=s.get(i,"name",""),a=s.get(i,"params",""),r=s.get(i,"params.contentSite")||s.get(i,"contentSite")||"home",l=s.get(a,"alias","");return"topic"===o||"category"===o?((t=decodeURIComponent(l).split("-"))&&t.constructor===Array&&(t=t[0]),t.indexOf("_")>-1&&(t=t.replace(/_/g," ")),n=!0):(r&&(t=r),n=!1),!!t&&this.setState(this._state.withMutations(function(e){e.set("navTitle",t),e.set("useNavTitle",n)}))},setNavTrigger:function(e){e&&this.setState(this._state.set("navTrigger",e))},getHeaderTitle:function(){return this._state.get("navTitle")},getHeaderFlag:function(){return this._state.get("useNavTitle")},getNavTrigger:function(){return this._state.get("navTrigger")},setFollowAnimationState:function(e){e&&this.setState(this._state.set("followAnimation",e.followAnimation))},getFollowAnimationState:function(){return this._state.get("followAnimation")}});e.exports=i},1850:function(e,t,n){"use strict";e.exports={nep:"uh3",seperator:"_",queries:{default:{fr:"yfp-t-{BUCKET}"},autos:{fr:"uh3_magautos_web_gs",fr2:"p:auto,m:{FRSOURCE}"},beauty:{fr:"uh3_magbeauty_web_gs",fr2:"p:bty,m:{FRSOURCE}"},celebrity:{fr:"uh3_omg_web_gs_1",fr2:"p:clb,m:{FRSOURCE}"},decor:{fr:"uh3_magdecor_web",fr2:"p:dcr,m:{FRSOURCE}"},finance:{fr:"uh3_finance_web",fr2:"p:finvsrp,m:{FRSOURCE}"},entertainment:{fr:"uh_magentertain_web_gs",fr2:"p:ent,m:{FRSOURCE}"},esports:{fr:"uh3_esports_web_gs",fr2:"p:esports,m:{FRSOURCE}"},food:{fr:"yshineheader_test2",fr2:"p:fd,m:{FRSOURCE}"},gma:{fr:"uh3_news_web_gs",vfr:"uh3_news_vert_gs",fr2:"p:news,m:{FRSOURCE}"},health:{fr:"uh3_maghealth_web_gs",fr2:"p:hlth,m:{FRSOURCE}"},katiecouric:{fr:"uh3_news_web_gs",vfr:"uh3_news_vert_gs",fr2:"p:news,m:{FRSOURCE}"},lifestyle:{fr:"uh_maglifestyle_web_gs",fr2:"p:lst,m:{FRSOURCE}"},lifestyles:{fr:"uh_maglifestyle_web_gs",fr2:"p:lst,m:{FRSOURCE}"},makers:{fr:"uh3_magdiy_web_gs",fr2:"p:mk,m:{FRSOURCE}"},movies:{fr:"uh3_magmovies_web_gs",fr2:"p:mv,m:{FRSOURCE}"},music:{fr:"uh3_music_web_gs",fr2:"p:msc,m:{FRSOURCE}"},news:{fr:"uh3_news_web_gs",vfr:"uh3_news_vert_gs",fr2:"p:news,m:{FRSOURCE}"},omg:{fr:"uh3_omg_web_gs",fr2:"p:clb,m:{FRSOURCE}"},parenting:{fr:"uh3_magparenting_web_gs",fr2:"p:prnt,m:{FRSOURCE}"},politics:{fr:"uh3_news_web_gs_t2",vfr:"uh3_news_vert_gs_t2",fr2:"p:pol,m:{FRSOURCE}"},realestate:{fr:"uh3_magrealestate_web",fr2:"p:rles,m:{FRSOURCE}"},sports:{fr:"uh3_sports_web_gs",fr2:"p:sprt,m:{FRSOURCE}"},style:{fr:"magstyle_web_gs",fr2:"p:stl,m:{FRSOURCE}"},tech:{fr:"uh3_magtech_web_gs",fr2:"p:tech,m:{FRSOURCE}"},travel:{fr:"uh3_magtravel_web_gs",fr2:"p:trvl,m:{FRSOURCE}"},tv:{fr:"uh3_magtv_web_gs",fr2:"p:tv,m:{FRSOURCE}"},weather:{fr:"uh3_magweather_web_gs",fr2:"p:weather,m:{FRSOURCE}"},everything:{fr:"yfp-t-{BUCKET}",fp:"1"}}}},1851:function(e,t){e.exports={name:"tdv2-applet-uh",version:"10.1.42"}},1905:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),i=n.n(s),o=n(1),a=n.n(o),r=n(3),l=n.n(r),c=n(13),u=n.n(c),h=n(4),m=n.n(h),p=n(12),g=n(1635),d=n.n(g),f=n(20),_=n(33),C=n.n(_),b=n(2),v=n.n(b),y=n(657),N=n.n(y);const S=N()("SearchInput:getSuggestions");function I(e,t,n){S("getSuggestions",t);var s=(t=t||{}).searchTerm||"",i={searchTerm:s,gossipConfig:t.gossipConfig},o=t.instanceId||t.componentProps&&t.componentProps.id,a=Date.now();if(""===s)return e.dispatch("GET_SUGGESTIONS_SUCCESS",{instanceId:o,timeStamp:a,searchTerm:s,searchSuggestions:{hiConf:!1,items:[]}}),void n();e.service.read("searchassist",i,{},function(t,i){if(S("Search assist data",i),t||!i)return e.dispatch("GET_SUGGESTIONS_FAILURE",t),n(t,null);e.dispatch("GET_SUGGESTIONS_SUCCESS",{instanceId:o,timeStamp:a,searchTerm:s,searchSuggestions:i}),n()})}var x=n(641),E=n.n(x),w=l()({displayName:"MagnifyingGlass",autobind:!1,contextTypes:{theme:i.a.object},propTypes:{active:i.a.bool},render:function(){var e=this.context.theme,t=e?e.getIn(["search","style","magnifying_glass","color"],"#000"):"#000",n=m()("Pos(a) Z(2) T(7px) Start(14px)",{"D(n)":!this.props.active});return a.a.createElement("div",{className:n},a.a.createElement(p.Icon,{asset:E.a,height:"23",color:t}))}});const M=N()("SearchInput:setHighlightedSuggestion");function k(e,t,n){if(M("setHighlightedSuggestion",t),"number"==typeof(t=t||{}).index){var s=t.instanceId||t.componentProps&&t.componentProps.id;e.dispatch("SET_HIGHLIGHTED_SUGGESTION",{instanceId:s,index:t.index}),n()}else n()}const T=N()("SearchInput:setSelectedSuggestion");function P(e,t,n){if(T("setSelectedSuggestion",t),"number"==typeof(t=t||{}).index){var s=t.instanceId||t.componentProps&&t.componentProps.id;e.dispatch("SET_SELECTED_SUGGESTION",{instanceId:s,index:t.index}),n()}else n()}var H=n(647),D=l()({displayName:"SearchHintInput",autobind:!1,mixins:[C.a],statics:{storeListeners:[H.a]},propTypes:{className:i.a.string,instanceId:i.a.string.isRequired,searchTerm:i.a.string.isRequired,onSearchHintChanged:i.a.func},getInitialState:function(){return{previousSearchHint:"",searchHint:"",searchTerm:""}},componentWillMount:function(){this.onChange=this.onChange.bind(this),this.store=this.getStore(H.a)},componentWillReceiveProps:function(e){this.props.searchTerm!==e.searchTerm&&(this.state.previousSearchHint=this.state.searchHint,this.state.searchHint=""),this.state.searchTerm=e.searchTerm},onChange:function(e){var t,n="",s=this._getStoreData();s&&s.suggestions&&s.suggestions.length&&s.selectedSuggestionIndex<0&&(n=(t=s.suggestions[0]).isStrictMatch?t.fullSuggestion:""),this.state.searchHint=n,this.state.previousSearchHint!==this.state.searchHint&&this.props.onSearchHintChanged&&this.props.onSearchHintChanged(n)},render:function(){return a.a.createElement("input",{className:this.props.className,readOnly:!0,style:{WebkitAppearance:"none"},tabIndex:"-1",value:this.state.searchHint})},_getStoreData:function(){return{selectedSuggestionIndex:this.store.getSelectedSuggestionIndex(this.props.instanceId),suggestions:this.store.getSuggestions(this.props.instanceId)}}}),R=n(1906),A=n.n(R),F=n(1614),U=l()({displayName:"SearchSuggestionTemplate",autobind:!1,propTypes:{suggestion:i.a.object},mixins:[F.a]}),L=l()({displayName:"SearchSuggestionItem",autobind:!1,propTypes:{index:i.a.number,isSelected:i.a.bool,isSmartphone:i.a.bool,onSelect:i.a.func,onEnter:i.a.func,onExit:i.a.func,suggestion:i.a.object,templateComponent:i.a.func,termCompleteBtn:i.a.bool,termCompleteHandler:i.a.func},mixins:[C.a],componentWillMount:function(){this.handleTermComplete=this.handleTermComplete.bind(this),this.handleItemClick=this.handleItemClick.bind(this),this.handleItemEnter=this.handleItemEnter.bind(this),this.handleItemExit=this.handleItemExit.bind(this)},getTermCompleteBtn:function(){if(this.props.termCompleteBtn&&!this.props.templateComponent){var e={cpos:this.props.index,elm:"btn",itc:0,slk:"srch-asst-complete",subsec:"search"};return a.a.createElement(f.I13nButton,{className:"Pos(a) W(36px) H(100%) End(0) T(0) P(0) Bdw(0) Bgc(t) O(0) Cur(p)",model:e,onClick:this.handleTermComplete,type:"button"},a.a.createElement(p.Icon,{asset:A.a,className:"Rotate(-45deg)",height:"28",color:"#ccc"}))}},handleItemClick:function(e){var t=this,n=t.props.suggestion,s=f.ReactI13n.getInstance();s?s.execute("beacon",{beaconType:"beaconClick",arguments:["uh","srch-asst",0,{cpos:t.props.index,elm:"btn",itc:0,subsec:"search",tar:"search.yahoo.com",tar_uri:"/search"}]},function(){t.props.onSelect&&t.props.onSelect(n)}):t.props.onSelect&&t.props.onSelect(n)},handleItemEnter:function(e){this.props.onEnter&&this.props.onEnter(this.props.index)},handleItemExit:function(e){this.props.onExit&&this.props.onExit(this.props.index)},handleTermComplete:function(e){e.preventDefault(),e.stopPropagation(),this.props.termCompleteHandler&&this.props.termCompleteHandler(this.props.index)},render:function(){var e=m()("D(b) Td(n) Cur(d)",{"Mend(36px)":!this.props.templateComponent}),t=m()("Pos(r) Fz(15px)! Cur(p)",{"Bgc(#c6d7ff)":this.props.isSelected,"Bd Bdc(#f1f1f1) Bdw(0) Bdbw(1px) Py(10px) Px(20px)":this.props.isSmartphone,"Py(4px) Px(10px)":!this.props.isSmartphone}),n=this.props.templateComponent||U;return a.a.createElement("li",{className:t,onClick:this.handleItemClick,onMouseEnter:this.handleItemEnter,onMouseLeave:this.handleItemExit},this.getTermCompleteBtn(),a.a.createElement("div",{className:e},a.a.createElement(n,{suggestion:this.props.suggestion})))}}),O=l()({displayName:"SearchSuggestionList",autobind:!1,propTypes:{footerComponent:i.a.func,isSmartphone:i.a.bool,instanceId:i.a.string.isRequired,onSelect:i.a.func,onItemEnter:i.a.func,onItemExit:i.a.func,showFooter:i.a.bool,termCompleteBtn:i.a.bool,termCompleteHandler:i.a.func,templateComponent:i.a.func},contextTypes:{getStore:i.a.func},mixins:[C.a],statics:{storeListeners:[H.a]},getInitialState:function(){return{highlightedSuggestionIndex:-1,selectedSuggestionIndex:-1,suggestions:[]}},componentWillMount:function(){this.onChange=this.onChange.bind(this),this.handleItemClick=this.handleItemClick.bind(this),this.handleItemEnter=this.handleItemEnter.bind(this),this.handleItemExit=this.handleItemExit.bind(this),this.handleTermComplete=this.handleTermComplete.bind(this),this.store=this.getStore(H.a)},onChange:function(e){this.setState(this._getStoreData())},handleItemClick:function(e){this.props.onSelect&&this.props.onSelect(e)},handleItemEnter:function(e){this.props.onItemEnter&&this.props.onItemEnter(e)},handleItemExit:function(e){this.props.onItemExit&&this.props.onItemExit(e)},handleTermComplete:function(e){this.props.termCompleteHandler&&this.props.termCompleteHandler(e)},renderFooter:function(){var e=this.props,t=e.footerComponent;return!0===e.showFooter&&t?a.a.createElement(t,{query:e.query}):null},render:function(){var e=this,t=m()("Pos(a) Ta(start) Start(0) End(0) Bgc(#fff) Z(1) Wob(ba)",{"D(n)":!e.state.suggestions.length,"Bd Bdc(#aaa) Bdtw(0) Mt(-1px) Whs(n)":!e.props.isSmartphone,"Mt(11px)":e.props.isSmartphone});return a.a.createElement("div",{className:t,key:"satray"},a.a.createElement("ul",{className:"M(0)"},e.state.suggestions.map(function(t,n){var s=e.state.selectedSuggestionIndex===n||e.state.highlightedSuggestionIndex===n;return a.a.createElement(L,{index:n,isSmartphone:e.props.isSmartphone,key:n,isSelected:s,onSelect:e.handleItemClick,onEnter:e.handleItemEnter,onExit:e.handleItemExit,suggestion:t,templateComponent:e.props.templateComponent,termCompleteBtn:e.props.termCompleteBtn,termCompleteHandler:e.handleTermComplete})})),e.renderFooter())},_getStoreData:function(){return{highlightedSuggestionIndex:this.store.getHighlightedSuggestionIndex(this.props.instanceId),selectedSuggestionIndex:this.store.getSelectedSuggestionIndex(this.props.instanceId),suggestions:this.store.getSuggestions(this.props.instanceId)}}}),B=(n(119),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}),j=l()({displayName:"SearchInput",autobind:!1,_isSmartphone:!1,_isTablet:!1,propTypes:{autofocus:i.a.bool.isRequired,className:i.a.string,defaultValue:i.a.string,enableFocusBeacon:i.a.bool,footerComponent:i.a.func,id:i.a.string.isRequired,inputName:i.a.string,isSmartphone:i.a.bool,isTablet:i.a.bool,magnifyingGlass:i.a.bool,onClear:i.a.func,onFocus:i.a.func,onKeyDown:i.a.func,onSearchHintChanged:i.a.func,onSelect:i.a.func,onValueChange:i.a.func,placeholder:i.a.string,searchHint:i.a.bool,showFooter:i.a.bool,templateComponent:i.a.func},contextTypes:{getStore:i.a.func,theme:i.a.object,session:i.a.object},childContexTypes:{theme:i.a.object},mixins:[C.a],statics:{storeListeners:[H.a]},immediateId:null,getInitialState:function(){return this.isOnComposition=!1,{searchTerm:"",highlightedSuggestionIndex:-1,selectedSuggestionIndex:-1,shouldCleanQuery:!1,suggestions:[]}},getDefaultProps:()=>({config:{}}),componentDidMount:function(){var e=this;e.props.autofocus&&(e.immediateId=setImmediate(function(){e.focus()}))},componentWillMount:function(){this.onChange=this.onChange.bind(this),this.handleSelect=this.handleSelect.bind(this),this.handleChange=this.handleChange.bind(this),this.handleComposition=this.handleComposition.bind(this),this.handleClear=this.handleClear.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this),this.handleItemEnter=this.handleItemEnter.bind(this),this.handleItemExit=this.handleItemExit.bind(this),this.handleTermComplete=this.handleTermComplete.bind(this),this.store=this.getStore(H.a),this.sendFocusBeacon=this.sendFocusBeacon.bind(this),this._isSmartphone=this.props.isSmartphone||!1!==this.props.isSmartphone&&"smartphone"===v()(this.context,["session","dimensions","device"]),this._isTablet=this.props.isTablet||!1!==this.props.isTablet&&"tablet"===v()(this.context,["session","dimensions","device"])},componentWillUnmount:function(){this.immediateId&&clearImmediate(this.immediateId)},focus:function(){var e=u.a.findDOMNode(this.refs.userInput),t=this.getUserInput().length;e.focus(),e.setSelectionRange&&e.setSelectionRange(t,t)},sendFocusBeacon:function(){var e=f.ReactI13n.getInstance();e&&e.execute("beacon",{beaconType:"beaconClick",arguments:["uh","srch-fcs",0,{elm:"itm",itc:1,subsec:"search"}]})},blur:function(){u.a.findDOMNode(this.refs.userInput).blur()},handleValueChange:function(e){e?this._isSmartphone&&this.props.onFocus&&this.props.onFocus():this._isSmartphone&&this.props.onClear&&this.props.onClear()},setUserInput:function(e,t){u.a.findDOMNode(this.refs.userInput).value=e,this.handleValueChange(e),!0===t&&this.focus()},getUserInput:function(){var e=u.a.findDOMNode(this.refs.userInput);return e&&e.value||""},getClearBtn:function(){if(this.props.clearBtn&&this.state.searchTerm)return a.a.createElement(f.I13nButton,{className:"Pos(a) W(36px) H(100%) End(0) T(0) P(0) Bdw(0) Bgc(t) O(0) Z(3) Cur(p)",model:{elm:"btn",itc:0,slk:"srch-clear",subsec:"search"},onClick:this.handleClear,type:"button"},a.a.createElement(p.Icon,B({asset:d.a,height:12,color:"#ccc"},{style:{verticalAlign:"initial"}})))},getSearchHintInput:function(){var e={"Fz(18px) Pos(a) W(100%) T(0) Start(0) M(0) C(#c0c0c0) Bgc(#fff) O(0) O(0):f Px(10px) Py(5px) Z(1)":!0,"Bxsh(n) Bxsh(n):f":!0,"Bdrs(0)":!this.props.magnifyingGlass,"Bdrs(3px) Bdw(0)":this._isSmartphone||this._isTablet};if(this.props.className&&(e[this.props.className]=!0),this.props.searchHint)return a.a.createElement(D,{className:m()(e),instanceId:this.props.id,searchTerm:this.state.searchTerm,onSearchHintChanged:this.props.onSearchHintChanged})},getMaginifyingGlass:function(){return a.a.createElement(w,{active:this.props.magnifyingGlass})},getSuggestions:function(e){"number"==typeof this._getSuggestionsTimeoutID&&(clearTimeout(this._getSuggestionsTimeoutID),this._getSuggestionsTimeoutID=void 0);var t=this;this._getSuggestionsTimeoutID=setTimeout(function(e,n){t.context.executeAction(I,{searchTerm:e,gossipConfig:t.props.config.gossip,instanceId:n})}.bind(t,e,t.props.id),200)},resetSuggestions:function(){this.getSuggestions("")},onChange:function(e){var t=this;t.setState(t._getStoreData(),function(){if(t.state.suggestions&&t.state.selectedSuggestionIndex>-1){var e=t.state.suggestions[t.state.selectedSuggestionIndex]&&t.state.suggestions[t.state.selectedSuggestionIndex].fullSuggestion||"";-1===t.state.highlightedSuggestionIndex&&(t.props.searchHint&&t.props.onSearchHintChanged&&t.props.onSearchHintChanged(e),t.setUserInput(e))}}),t.props.onValueChange&&t.props.onValueChange(t.state.searchTerm)},handleChange:function(e){var t=e.target.value;this.props.enableFocusBeacon&&!this.state.searchTerm&&1===t.length&&this.sendFocusBeacon(),this.setState({searchTerm:t}),this.getSuggestions(t)},handleKeyDown:function(e){var t=this,n=f.ReactI13n.getInstance();if(t.props.onKeyDown&&t.props.onKeyDown(e),"ArrowDown"===e.key){if(t.isOnComposition)return;t.state.selectedSuggestionIndex+1<t.state.suggestions.length&&t.context.executeAction(P,{index:t.state.selectedSuggestionIndex+1,instanceId:t.props.id}),e.preventDefault()}else if("ArrowUp"===e.key){if(t.isOnComposition)return;t.state.selectedSuggestionIndex-1>-1?t.context.executeAction(P,{index:t.state.selectedSuggestionIndex-1,instanceId:t.props.id}):0===t.state.selectedSuggestionIndex&&t.setUserInput(t.state.searchTerm),e.preventDefault()}else if("Escape"===e.key)t.resetSuggestions();else if("Enter"===e.key){e.preventDefault(),t.resetSuggestions();var s=229!==e.which&&!t.isOnComposition,i={source:t.state.selectedSuggestionIndex>-1?"sa":"sb"};n?n.execute("beacon",{beaconType:"beaconClick",arguments:["uh","srch-enter",0,{elm:"kybrd",itc:0,subsec:"search",tar:"search.yahoo.com",tar_uri:"/search"}]},function(){s&&t.props.onSelect&&t.props.onSelect(i)}):s&&t.props.onSelect&&t.props.onSelect(i)}else 32!==e.keyCode||t.getUserInput().length||t.blur()},handleKeyUp:function(){this.handleValueChange(this.getUserInput())},handleBlur:function(e){this._isSmartphone||this._isTablet||this.resetSuggestions()},handleComposition:function(e){"compositionend"===e.type?(this.isOnComposition=!1,this.handleChange(e)):this.isOnComposition=!0},clearInput:function(){this.setState({searchTerm:""}),this.setUserInput(""),this.resetSuggestions()},handleClear:function(e){this.clearInput(),this.focus()},handleSelect:function(e){var t={source:this.state.selectedSuggestionIndex>-1?"sa":"sb"};this.setUserInput(e.fullSuggestion),this.resetSuggestions(),this.props.onSelect&&this.props.onSelect(t)},handleItemEnter:function(e){this.context.executeAction(k,{index:e,instanceId:this.props.id})},handleItemExit:function(e){this.context.executeAction(k,{index:-1,instanceId:this.props.id})},handleTermComplete:function(e){var t=this.state.suggestions[e].fullSuggestion;this.setState({searchTerm:t}),this.setUserInput(t),this.getSuggestions(t),this.focus()},shouldComponentUpdate:function(e,t){return t.searchTerm!==this.state.searchTerm||t.highlightedSuggestionIndex!==this.state.highlightedSuggestionIndex||t.selectedSuggestionIndex!==this.state.selectedSuggestionIndex||t.suggestions!==this.state.suggestions||t.shouldCleanQuery!==this.state.shouldCleanQuery},render:function(){var e=this.context.session.isLightWeightBrowser,t=this.props.defaultValue||this.getStore(H.a).state.query,n=this._isSmartphone||this._isTablet,s=m()("Z(2)",{"Pos(r)":!n}),i=m()({"Pos(r)":n}),o={"Pos(r) W(100%) M(0) O(0) O(0):f Bgc(#fff) Z(2) Bxsh(n) Bxsh(n):f Fz(15px) Px(15px) Py(8px)":!0,"Bgc(t)":this.props.searchHint,"Bdrs(0)":!this.props.magnifyingGlass,"Pend(0px)":e,"Pstart(10px)":!this.props.magnifyingGlass&&!e,"Pend(10px)":!this.props.clearBtn&&!e,"Pstart(40px)":this.props.magnifyingGlass&&!e&&!n,"Pstart(50px)":this.props.magnifyingGlass&&!e&&n,"Pend(38px)":this.props.clearBtn&&!e,"Bdrs(3px) Bdw(0) Fz(18px)":n};this.props.className&&(o[this.props.className]=!0);var r={WebkitAppearance:"none"};return e?a.a.createElement("div",{className:s,id:this.props.id},a.a.createElement("div",{className:i},a.a.createElement("input",{"aria-label":"Search",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",className:m()(o),defaultValue:t,key:"userInput",name:this.props.inputName,placeholder:this.props.placeholder,ref:"userInput",style:r,type:"text"}))):a.a.createElement("div",{className:s,id:this.props.id,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp},a.a.createElement("div",{className:i},a.a.createElement("input",{"aria-label":"Search",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",className:m()(o),defaultValue:t,key:"userInput"+(this.state.shouldCleanQuery?"-cq":""),name:this.props.inputName,onChange:this.handleChange,onCompositionStart:this.handleComposition,onCompositionUpdate:this.handleComposition,onCompositionEnd:this.handleComposition,placeholder:this.props.placeholder,ref:"userInput",style:r,type:"text"}),this.props.magnifyingGlass&&this.getMaginifyingGlass(),this.getSearchHintInput(),this.getClearBtn()),a.a.createElement(O,{footerComponent:this.props.footerComponent,instanceId:this.props.id,isSmartphone:this._isSmartphone,onSelect:this.handleSelect,onItemEnter:this.handleItemEnter,onItemExit:this.handleItemExit,query:this.state.searchTerm,showFooter:this.props.showFooter,termCompleteBtn:this.props.termCompleteBtn,termCompleteHandler:this.handleTermComplete,templateComponent:this.props.templateComponent}))},_getStoreData:function(){return{highlightedSuggestionIndex:this.store.getHighlightedSuggestionIndex(this.props.id),selectedSuggestionIndex:this.store.getSelectedSuggestionIndex(this.props.id),shouldCleanQuery:this.store.state.shouldCleanQuery,suggestions:this.store.getSuggestions(this.props.id)}}});t.default=j},1906:function(e,t){if(void 0===n)var n={};n.ActionAssistArrow={name:"ActionAssistArrow",height:96,width:96,path:"M67.8 39.797L48.002 20 28.198 39.797c-1.56 1.562-1.56 4.094 0 5.656 1.562 1.562 4.102 1.562 5.66 0l10.14-10.14V76h8V35.31l10.145 10.144c1.562 1.562 4.094 1.562 5.656 0s1.56-4.095 0-5.657z"},void 0!==e&&e.exports&&(e.exports=n.ActionAssistArrow)},1909:function(e,t,n){"use strict";var s={get:n(43)},i=n(1557)("uh:actions:loadProfile"),o=n(1778).isClient();function a(e){return s.get(e,"componentProps.componentConfig.uh.profile.mode")}e.exports=function(e,t,r){if(i("context.session.isLightWeightBrowser",e.session.isLightWeightBrowser),!function(e){return n(1778).isEnabled(s.get(e,"componentProps.componentConfig.uh.ui.profile",!1))}(t))return r&&r(null,null);if(e.session.isLightWeightBrowser)e.executeAction(n(650).getProfile,{},r);else{if(o||t.IS_CLIENT)return i("client"),void("client"===a(t)?e.executeAction(n(650).getProfile,{},function(t,s){!function(e){var t=e.getStore(n(90)),s=e.getStore(n(369));if(t&&s&&e.beacon){var i=t.getGUID(),o=s.getGuid();if(i&&o){var a={code:"UHCheckGuid",match:i===o?"1":"0"};e.beacon("info",null,a,{fireOnce:!0})}}}(e),r&&r(t,s)}):r&&r(null,null));i("server"),"server"===a(t)?e.executeAction(n(650).getProfile,{},r):r&&r(null,null)}}},1934:function(e,t,n){"use strict";var s={get:n(43)},i=n(1557)("uh:actions:loadFFPromo"),o=n(1778).isClient();e.exports=function(e,t,a){return function(e){return n(1778).isEnabled(s.get(e,"componentProps.componentConfig.uh.ui.topbarFFPromo",!1))}(t)&&(o||"client"!==function(e){return s.get(e,"componentProps.componentConfig.uh.profile.mode")}(t))?void 0!==e.getStore(n(1780)).getShowFFPromo()?a&&a(null,null):void e.service.read("UHGetFFPromoService",{},{},function(t,n){n&&(i(n),e.dispatch("FFPROMO_SHOW_STATE",n)),a&&a(null,null)}):a&&a(null,null)}},1935:function(e,t,n){"use strict";var s={get:n(43),find:n(252)},i=n(1557)("uh:actions:UHMailActions"),o=n(1778).isClient(),a="";var r=function(){var e=(new Date).getTime(),t=null;return"xxxxxxxx-xxxx-xxxx-09xx-xxxxxxxxxx00".replace(/x/g,function(n){return t=(e+16*Math.random())%16|0,e=Math.floor(e/16),t.toString(16)})},l=/%7B/gi,c=/%7D/gi,u=function(e,t,i){var o=t.api||{};a&&o.query&&(o.query.wssid=a);var l,c=n(384)(o);if(!(window&&"XMLHttpRequest"in window))return i({statusText:"XHR not supported"}),null;"withCredentials"in(l=new XMLHttpRequest)?(l.open("POST",c,!0),l.withCredentials=!0):i({statusText:"CORS not supported"}),l.timeout=t.timeout,l.setRequestHeader("content-type","application/json"),l.setRequestHeader("accept","application/json"),l.setRequestHeader("X-Oath-YmReqId",t.reqid),l.onload=function(){try{var n=JSON.parse(l.responseText),o=n.error||{},c=s.get(o,"details.wssid")||"";if(n.result&&!n.error)i(null,s.get(n,"result.responses[0].response.result")||{});else if("EC-4003"===o.code)if(c&&c!==a){if(t.pendingRetries>0)return a=c,t.pendingRetries-=1,t.reqid=r(),u(e,t,i);i({code:"invalidWssid",statusText:"Invalid WSSID. Retry limit reached"})}else i({code:"invalidWssid",statusText:"Invalid WSSID. API provided same invalid WSSID"});else n.result||n.error?i(o,n):i({statusText:"Key 'result' is missing in the response"})}catch(e){i({statusText:"Could not parse mail api response, message: "+e.message+", code: "+e.name})}},l.onerror=function(){i({status:l.status,statusText:l.statusText})},l.send(JSON.stringify(t.body||{}))},h=function(e,t,a){i("getMailCount");var m=e.getStore(n(90));if(!function(e){return n(1778).isEnabled(s.get(e,"componentProps.componentConfig.uh.ui.mail",!1))}(t))return a&&a(null,null);if(m.isLoaded()){if(!o&&"client"===function(e){return s.get(e,"componentProps.componentConfig.uh.mail.data.mode")}(t))return a&&a(null,null);if(m.isSignedOut())return i("getMailCount: user is signed out"),a&&a();if(e.dispatch("FETCH_MAIL_COUNT",!0),t.useCors)t.reqid=r(),t.pendingRetries=1,u(e,t,function(n,i){var o;if(n)"EC-4008"===n.code&&e.dispatch("SET_UNAUTHORIZEDUSER",!0),e.beacon&&e.beacon("error","UHGetMailCount_read",{code:"UHGetMailCountFailed",message:n.statusText||n.code||"timedout",ymreqid:t.reqid||"",statusCode:n.status||n.code});else{var r=s.get(i,"decos")||[];(o=s.find(r,{id:"FTI"}))?e.dispatch("NEW_MAIL_COUNT",s.get(o,"counts[0].unseen")||0):e.beacon&&e.beacon("error","UHGetMailCount_read",{code:"UHGetMailCountFailed",message:"Inbox is missing in the response",ymreqid:t.reqid||""})}e.dispatch("FETCH_MAIL_COUNT",!1),a&&a(n||i&&i.error)});else{var p=e.getStore(n(1794)),g=p.getMailCountCrumb(),d=parseInt(p.getTries(),10);if(!g)return d>5?(i("getMailCount: retry limit reached"),e.dispatch("FETCH_MAIL_COUNT",!1),e.beacon&&e.beacon("error","UHGetMailCount_read",{code:"UHGetMailCountFailed",message:"retry limit reached"}),a&&a(null,null)):void n(1800).initializeUHCrumbs(e,{},function(){h(e,t,a)});t&&t.url&&t.url.match(/decos/)&&(g=p.getUcsCrumb()),function(e,t,o,a){var u=t.url||"https://mg.mail.yahoo.com/mailservices/v1/newmailcount?appid=UnivHeader&wssid={crumb}&ymreqid={ymreqid}";u=(u=u.replace(l,"{")).replace(c,"}");var h,m=t.timeout||3e3,p=t.prefix||"__uhmc__",g=r(),d=n(382)(u,{ymreqid:g,crumb:o});n(676)(d,{timeout:m,prefix:p},function(t,n){e.dispatch("MAIL_COUNT_TS"),t&&e.beacon&&e.beacon("error","UHGetMailCount_read",{code:"UHGetMailCountFailed",message:"timedout",ymreqid:g||""}),n&&n.query?h=s.get(n,"query.results.result.decos.counts.unseen",0).toString():n&&n.newmailcount&&(i("data is: "+n.newmailcount),h=n.newmailcount),h?e.dispatch("NEW_MAIL_COUNT",h):e.dispatch("FETCH_MAIL_COUNT",!1),a&&a(t)})}(e,t,g,a)}}else n(251)(e,t,function(){h(e,t,a)})},m=function(e,t,s,i){var o=t.url;o=(o=o.replace(l,"{")).replace(c,"}");var a=t.timeout||3e3,u=t.prefix||"__uhmp__",h=r(),m=n(382)(o,{ymreqid:h,crumb:s});n(676)(m,{timeout:a,prefix:u},function(t,n){n&&e&&(n.error?e.dispatch("OPEN_MAILPREVIEW_FAILURE"):n.query&&n.query.results&&n.query.results.result?e.dispatch("OPEN_MAILPREVIEW_SUCCESS",n.query.results.result):n.query&&n.query.results&&n.query.results.json?e.dispatch("OPEN_MAILPREVIEW_SUCCESS",n.query.results.json):n.query&&0===n.query.count&&e.dispatch("OPEN_MAILPREVIEW_NO_NEW")),i&&i(t||n&&n.error)})},p=function(e,t,o){var a=e.getStore(n(90)),l=e.getStore(n(1788));if(a.isLoaded()){if(a.isSignedOut()||a.isRecognized())return i("getMailPreview: user is signed out or in recognized state"),e.dispatch("OPEN_MAILPREVIEW_FAILURE"),o&&o();if(t.useCors){if(t.reqid=r(),t.pendingRetries=1,l.getUnauthorizedUser())return e.dispatch("OPEN_MAILPREVIEW_FAILURE"),o&&o();u(e,t,function(n,i){var a=[];n&&e.beacon?e.beacon("error","UHGetMailPreview_read",{code:"UHGetMailPreviewFailed",message:n.statusText||"timedout",ymreqid:t.reqid||"",statusCode:n.status}):(!(a=s.get(i,"messages"))&&e.beacon&&e.beacon("error","UHGetMailPreview_read",{code:"UHGetMailPreviewFailed",message:"Key 'Messages' is missing in the response",ymreqid:t.reqid||""}),a=(a||[]).filter(function(n){var s=n.headers||{};return!!(n.id&&s.from&&s.from[0]&&s.date)||(e.beacon("error","UHGetMailPreview_read",{code:"UHGetMailPreviewFailed",message:"Invalid message in the response",ymreqid:t.reqid||""}),!1)}).map(function(e){var t=e.headers||{},n=t.from&&t.from[0]||{};return{messages:{id:e.id,headers:{date:t.date,subject:t.subject,from:{name:n.name,email:n.email}},flags:e.flags}}})),n?("EC-4008"===n.code&&e.dispatch("SET_UNAUTHORIZEDUSER",!0),e.dispatch("OPEN_MAILPREVIEW_FAILURE")):a&&a.length?e.dispatch("OPEN_MAILPREVIEW_SUCCESS",a):a&&!a.length&&e.dispatch("OPEN_MAILPREVIEW_NO_NEW"),o&&o(n||i&&i.error)})}else{var c=e.getStore(n(1794)),h=c.getUcsCrumb();h?m(e,t,h,o):n(1800).initializeUHCrumbs(e,{},function(){(h=c.getUcsCrumb())?m(e,t,h,o):o&&o()})}}else n(251)(e,{},function(){p(e,t,o)})};e.exports={getMailCount:h,getMailPreview:p}},1936:function(e,t,n){"use strict";var s=n(1557)("uh:stores:NavStore"),i=n(27)({storeName:"NavStore",handlers:{NAV_FAILURE:"_handleNavFailure",NAV_SUCCESS:"_handleNavSuccess"},initialize:function(){this.state={}},_handleNavFailure:function(e){s("_handleNavFailure","error",e),this.state.error=e||{}},_handleNavSuccess:function(e){s("_handleNavSuccess","payload",e);var t=e&&e.data||{};this.state.data=t,this.emitChange()},getError:function(){return this.state.error||null},getItems:function(){return this.state.data&&this.state.data.items||[]},getState:function(){return this.state},dehydrate:function(){return this.state},rehydrate:function(e){this.state=e}});e.exports=i},2015:function(e,t,n){"use strict";var s=n(1557)("uh:actions:loadHeader");e.exports=function(e,t,i){s("Loading the Header");var o=e.getStore("RouteStore");e.dispatch("UH_NAVIGATE_INIT_ON_START",o.getCurrentRoute()),n(249)(e,{loadProfile:{action:n(1909),params:t},loadNav:{action:n(2016),params:t},loadTheme:{action:n(2017),params:t},loadFFPromo:{action:n(1934),params:t},loadUHCrumbs:{action:n(1800).initializeUHCrumbs,params:t},registerComposite:{action:n(1577).registerComposite,params:Object.assign({},t,{accountSwitchConfigPath:["uh","account_switch"],compositeName:"account-switch-uh"})}},function(e,t){return e?(e.loadProfile,e.loadNav,e.loadTheme,i&&i(e,null)):i&&i(null,t)})}},2016:function(e,t,n){"use strict";var s={get:n(43)},i=n(1557)("uh:actions:loadNav"),o=n(1778).isClient();e.exports=function(e,t,a){if(!function(e){return n(1778).isEnabled(s.get(e,"componentProps.componentConfig.uh.ui.topbar",!1))}(t))return a&&a(null,null);if(o)return i("client"),a&&a(null,null);i("server");var r={app:"yahoo",cache:function(e){return n(1778).isEnabled(s.get(e,"componentProps.componentConfig.uh.data.action.load_nav.cache.enabled",!1))}(t)};i("params",r),e.service.read("nav",r,{},function(t,n){return t?(e.dispatch("NAV_FAILURE",t),a&&a(t,null)):(e.dispatch("NAV_SUCCESS",n),a&&a(null,n))})}},2017:function(e,t,n){"use strict";var s={get:n(43)},i=n(1557)("uh:actions:loadTheme"),o=n(1778).isClient();function a(e,t,o){var a={site:function(e){var t=e.getStore("RouteStore").getCurrentRoute(),n=null;t&&(n=s.get(t,"params.contentSite"));t&&!n&&(n=s.get(t,"contentSite"));n||(n=e.session.dimensions.site);return n}(e),theme:function(e){var t=(e&&e.componentProps||{}).componentConfig||{};return s.get(t,"uh.ui.theme",!1)}(t)},r=e.getStore(n(1810)).getCachedData(a);if(function(e){return s.get(e,"componentProps.componentConfig.uh.data.action.load_theme.cache.enabled",!1)}(t)&&0!==r.size)return i("Get data from cache"),i("data",r),o&&o(null,{message:"ok",statusCode:200,params:a});i("Get data from service"),e.service.read("theme",a,{},function(t,n){return t?(i("err",t),e.dispatch("THEME_FAILURE",t),o&&o(t,null)):(n.params=a,e.dispatch("THEME_SUCCESS",n),o&&o(null,n))})}e.exports=function(e,t,n){return i("Loading theme"),o?(i("client"),function(e){return s.get(e,"componentProps.componentConfig.uh.data.action.load_theme.client.enabled",!0)}(t)?a(e,t,n):(i("no op"),n&&n(null,null))):(i("server"),a(e,t,n))}},2018:function(e,t){e.exports=[{dimensions:[{ynet:{1:null,0:null}},{authed:{2:null,1:null,0:null}},{ssl:{1:null,0:null}},{spdy:{1:null,0:null}},{bot:{1:null,0:null}},{environment:{development:{dev:null,corp:null},integration:{int:null,int1:null},qa:{qa1:null},production:{canary:null,pilot:null,prev:null,prod:null,stage:null},performance:{perf:null}}},{device:{desktop:{full:null,lightweight:null,"desktop-lite":null,"desktop-full":null,tv:null},mobile:{tablet:{"tablet-lite":null,"tablet-full":null},smartphone:{"smartphone-lite":null,"smartphone-full":null},featurephone:null},console:null}},{network:{broadband:null,cable:null,dialup:null,dsl:null,mobile:null,oc3:null,oc12:null,satellite:null,t1:null,t3:null,wireless:null,xdsl:null}},{ecma:{default:null,modern:null}},{partner:{att:null,frontier:null,ideanetsetter:null,none:null,mts:null,rjio:null,rogers:null,smartfren:null,tata:null,tikona:null,tnz:null,verizon:null}},{lang:{ar:{"ar-JO":null,"ar-MA":null,"ar-SA":null,"ar-EG":null},bn:{"bn-IN":null},ca:{"ca-ES":null},cs:{"cs-CZ":null},da:{"da-DK":null},de:{"de-AT":null,"de-DE":null},el:{"el-GR":null},en:{"en-AE":null,"en-AU":null,"en-BG":null,"en-CA":null,"en-GB":null,"en-GY":null,"en-HK":null,"en-IE":null,"en-IN":null,"en-JO":null,"en-MY":null,"en-NZ":null,"en-PH":null,"en-SG":null,"en-US":null,"en-ZA":null},es:{"es-AR":null,"es-BO":null,"es-CL":null,"es-CO":null,"es-EC":null,"es-ES":null,"es-MX":null,"es-PE":null,"es-PY":null,"es-US":null,"es-UY":null,"es-VE":null},fi:{"fi-FI":null},fr:{"fr-BE":null,"fr-CA":null,"fr-FR":null,"fr-GF":null},hi:{"hi-IN":null},hu:{"hu-HU":null},id:{"id-ID":null},it:{"it-IT":null},ja:{"ja-JP":null},kn:{"kn-IN":null},ko:{"ko-KR":null},ml:{"ml-IN":null},mr:{"mr-IN":null},ms:{"ms-MY":null},nb:{"nb-NO":null},nl:{"nl-BE":null,"nl-NL":null,"nl-SR":null},pl:{"pl-PL":null},pt:{"pt-BR":null},ro:{"ro-RO":null},ru:{"ru-RU":null},sv:{"sv-SE":null},ta:{"ta-IN":null},te:{"te-IN":null},th:{"th-TH":null},tr:{"tr-TR":null},vi:{"vi-VN":null},zh:{"zh-Hans":{"zh-Hans-CN":null},"zh-Hant":{"zh-Hant-HK":null,"zh-Hant-TW":null}}}},{region:{ZZ:null,AFRICA:{NG:{ng:null},ZA:{za:null}},ANTARCTICA:null,ASIA_PACIFIC:{OCEANIA:{AUNZ:{AU:{au:null},NZ:{nz:null}}},ASIA:{CN:{cn:null},HK:{h1:null,hk:null},IN:{in:null},ID:{id:null},JP:{jp:null},KR:{kr:null},MY:{my:null},PH:{ph:null},PK:{pk:null},SG:{aa:null,sg:null},TW:{tw:null,k1:null},TH:{th:null},VN:{vn:null}}},XA:{EG:null,MA:null,AE:null,IL:null,JO:{xa:null},SA:null},XE:{xe:null},ME:{me:null},EUROPE:{AT:{at:null},BE:{b2:null,b3:null},BG:{bg:null},CH:{ch:null},CZ:{cz:null},DE:{de:null},DK:{dk:null},EE:{ee:null},ES:{es:null,ct:null},FI:{fi:null},FR:{fr:null},GB:{UK:{uk:null}},GR:{gr:null},HU:{hu:null},IE:{ie:null},IT:{it:null},LT:{lt:null},LV:{lv:null},NL:{nl:null},NO:{no:null},PL:{pl:null},RO:{ro:null},RS:null,RU:null,SE:{se:null},SI:null,SK:null,TR:{tr:null},UA:{ua:null}},AMERICAS:{NORTH_AMERICA:{CA:{ca:null,cf:null,qc:null},MX:{mx:null},US:{us:null,e1:null}},SOUTH_AMERICA:{AR:{ar:null},BO:{bo:null},BR:{br:null},CL:{cl:null},CO:{co:null},EC:{ec:null},GF:{gf:null},GY:{gy:null},PE:{pe:null},PY:{py:null},SR:{sr:null},UY:{uy:null},VE:{ve:null}}}}},{site:{aol:{aolfrontpage:null},autos:null,beauty:null,celebrity:{omg:null},cricket:null,decor:null,entertainment:null,esports:null,everything:null,fantasy:{dailyfantasy:null},finance:null,food:null,fp:null,games:null,gma:null,health:null,home:null,homes:null,huffpost:null,ivy:null,lifestyle:null,lifestyles:null,mail:null,makers:null,money:null,movies:null,music:null,my:null,news:{m6info:null},katiecouric:null,parenting:null,politics:null,realestate:null,shopping:null,softwarecenter:null,sports:null,style:null,surfing:null,tech:null,travel:null,tumblr:null,tv:null,weather:null,ytb:null}},{mode:{failsafe:null,fallback:null,normal:null}},{colo:{aws:null,AFRICA:null,ANTARCTICA:null,ASIA_PACIFIC:{OCEANIA:{AUNZ:{AU:{aue:null}}},ASIA:{CN:{cn2:null,cn3:null,cnb:null,cnh:null},HK:{hki:null,hk2:null},IN:{in:null,in2:null},JP:{jp1:null,jp2:null},KR:{kr1:null,kr2:null,kr3:null,krs:null},PH:{ph1:null,ph2:null},SG:{sg:null,sg1:null,sg2:null,sg3:null},TW:{tp2:null,tpc:null,tpe:null,tw1:null}}},EUROPE:{GB:{UK:{ukl:null}},IE:{ird:null,ir2:null},CH:{ch1:null,ch2:null}},AMERICAS:{NORTH_AMERICA:{US:{US_WEST:{cc1:null,gk1:null,scd:null,sk1:null,sp1:null,sp2:null,gq1:null,sw1:null,sql:null},US_MIDWEST:{mud:null,ne1:null},US_EAST:{a2s:null,ac2:null,ac4:null,dcn:null,re1:null,re2:null,re3:null,re4:null,bf1:null}}},SOUTH_AMERICA:{BR:{bro:null}}}}}]}]},2019:function(e,t,n){"use strict";var s={set:n(1609)},i=n(3)({mixins:[n(1779),n(33)],contextTypes:{getStore:n(0).func,conf:n(0).object.isRequired,session:n(0).object.isRequired,theme:n(0).object.isRequired},displayName:"MailCount",statics:{base:["mail"],className:{style:{mailcount:{wrapper:"_getClassNameMailcountWrapper"}}},storeListeners:[n(1788)]},propTypes:{countConfig:n(0).object,isSmartPhone:n(0).bool},getDefaultProps:function(){return{countConfig:n(5).fromJS({maxCountDisplay:99,pollingInterval:2,pollingDuration:10})}},getInitialState:function(){return this._initConfig(),this.mailStore=this.getStore(n(1788)),this.focusTimeoutValue=null,this.pollingDurationTimer=null,this.pollingIntervalTimer=null,{mailCount:this._getMailCountFromStore()}},componentDidMount:function(){"smartphone"!==this.device&&(window.addEventListener("focus",this._handleWindowFocus),window.addEventListener("blur",this._stopFetchTimer)),this._startDurationTimer(),this._startFetchTimer()},componentWillUnmount:function(){this._stopTimers(),"smartphone"!==this.device?(window.removeEventListener("focus",this._handleWindowFocus),window.removeEventListener("blur",this._stopFetchTimer),window.removeEventListener("mousemove",this._handleKBMouseFocus),window.removeEventListener("keypress",this._handleKBMouseFocus)):window.removeEventListener("mouseup",this._handleKBMouseFocus),clearTimeout(this.focusTimeoutValue)},onChange:function(e){var t=this._getMailCountFromStore();this.setState({mailCount:t})},_initConfig:function(){var e=this.context.conf.get("profile"),t=this.props.mail.toJS(),i=t.count,o=n(384)(i.api);this.mode=e.get("mode")||"server",this.fetchConfig={url:o,api:t.api,body:i.body,timeout:i.timeout,prefix:i.jsonp.prefix,useCors:this.context.conf.getIn(["mail","useCors"])},s.set(this.fetchConfig,"componentProps.componentConfig.uh.profile.mode",this.mode),s.set(this.fetchConfig,"componentProps.componentConfig.uh.ui.mail",!0),this.pollingInterval=6e4*i.pollingInterval,this.pollingDuration=6e4*i.pollingDuration,this.pollingWindow=i.pollingWindow,this.mailCountMaxDisplay=i.maxCountDisplay,this.device=this.props.device||"desktop"},_startFetchTimer:function(){this._fetch(),this.pollingIntervalTimer=setInterval(this._fetch,this.pollingInterval)},_startDurationTimer:function(){"smartphone"!==this.device?(window.removeEventListener("mousemove",this._handleKBMouseFocus),window.removeEventListener("keypress",this._handleKBMouseFocus),clearTimeout(this.focusTimeoutValue)):window.removeEventListener("mouseup",this._handleKBMouseFocus),this.pollingDurationTimer=setTimeout(this._stopFetchTimer,this.pollingDuration)},_stopTimers:function(){clearInterval(this.pollingIntervalTimer),clearTimeout(this.pollingDurationTimer)},_stopFetchTimer:function(e){e||(this.isSmartPhone?window.addEventListener("mouseup",this._handleKBMouseFocus):(window.addEventListener("mousemove",this._handleKBMouseFocus),window.addEventListener("keypress",this._handleKBMouseFocus))),clearInterval(this.pollingIntervalTimer)},_fetch:function(){var e=Date.now()-this.mailStore.getTs();!this.mailStore.getFetching()&&!this.mailStore.getUnauthorizedUser()&&this.pollingWindow<e&&this.executeAction(n(1935).getMailCount,this.fetchConfig)},_getMailCountFromStore:function(){return this.mailStore.getMailCount()},_handleWindowFocus:function(e){this._stopTimers(),this._startDurationTimer(),this._startFetchTimer()},_handleKBMouseFocus:function(){this.focusTimeoutValue&&clearTimeout(this.focusTimeoutValue),this.focusTimeoutValue=setTimeout(this._handleWindowFocus,1e3)},shouldComponentUpdate:function(e,t){return t.mailCount!==this.state.mailCount},_getClassNameMailcountWrapper:function(){var e=[];return e.push(this.getClassName(i,["style","mailcount","wrapper_1"])),e=n(4)(e)},render:function(){var e=this.state.mailCount>0,t=this.state.mailCount>this.mailCountMaxDisplay?this.mailCountMaxDisplay+"+":this.state.mailCount,s=this.props.mail.toJS(),o=n(2)(s,["style","mailCount","badge"]),a=n(4)(o||this.getClassName(i,["style","mailcount","wrapper"]),{"Px(3px)":this.state.mailCount>this.mailCountMaxDisplay},{"V(h)":!e},"desktop"!==this.device?this.props.themeMailNotificationBorderColor:"",{"D(n)":!e&&"desktop"!==this.device});return n(1).createElement("span",{id:"uh-mail-count",className:a},t)}});e.exports=i},2020:function(e,t,n){"use strict";var s;var i=n(1557)("uh:components:search:SearchForm"),o=n(3)({contextTypes:{conf:n(0).object.isRequired,logger:n(0).object.isRequired,session:n(0).object.isRequired,theme:n(0).object.isRequired},childContextTypes:{theme:n(0).object},displayName:"SearchForm",mixins:[n(1779),n(33)],propTypes:{data:n(0).object},statics:{base:["search"],i13n:{search:{elm:"btn",itc:"0",slk:"srch-click",subsec:"search"},vertical_search:{elm:"btn",itc:"0",slk:"vert-srch-click",subsec:"search"},cancel:{elm:"btn",itc:"0",slk:"cancel-click",subsec:"cancel"}}},_getClassNameContent:function(e){var t=[],s=e?"content_3":"content_2";return t.push(this.getClassName(o,["style","search_button","content_1"])),t.push(this.getClassName(o,["style","search_button",s])),t=n(4)(t),i("_getClassNameContent",t,arguments),t},_getMetaDataAction:function(){var e=this.state.verticalSearchEnabled?"verticalSearchAction":"action";return this._getActionUrl(e)},_getActionUrl:function(e){var t=null,s=this.context.session;if(!(t=this.getConf(o,e))){var a={protocol:s.protocol,host:s.dimensions.intl+".search.yahoo.com",pathname:"/search"};switch(s.dimensions.intl){case"e1":a.host="espanol.search.yahoo.com";break;case"cf":a.host="qc.search.yahoo.com";break;case"my":a.host="malaysia.search.yahoo.com";break;case"us":a.host="search.yahoo.com"}t=n(24).format(a)}return i("_getMetaDataAction",t,arguments),t},_getMetaDataFrSource:function(){var e=this.state.fr_source;return i("_getMetaDataFrSource",e,arguments),e},_getMetaDataBucket:function(){var e=this.context.session.dimensions.bucket;return i("_getMetaDatBucket",e,arguments),e},_getMetaDataPlaceholderText:function(){var e,t;return(t=this.getConf(o,"placeholderText"))&&(e=this.getIntl(t)),e||(e=" "),i("_getMetaDataPlaceholderText",e,arguments),e},_getNodeSearchLayout:function(){var e=this.context.session.dimensions.device,t=this._getNodeSearchInput(),s=this._getNodeSearchButton(),i=this.getConf(o,"enableCancelButton")?this._getNodeCancelButton():null,a=this.getConf(o,"showSubPartnerLogo")?this._getNodeSubLogo():null;if(/desktop|tv/i.test(e)){var r=this.getClassName(o,["style","table","wrapper"]);return n(1).createElement("table",{className:r},n(1).createElement("tbody",null,n(1).createElement("tr",null,n(1).createElement("td",{className:"W(100%) Va(t) Px(0)"},t),n(1).createElement("td",{className:"Va(t) Tren(os) W(10%) Whs(nw) Px(0) Bdcl(s)"},n(1).createElement("div",{id:"search-buttons"},s)),a)))}return[t,s,i]},_getNodeCancelButton:function(){return n(1).createElement(n(20).I13nButton,{ref:"cancelButton",key:"cancelButton",className:this.getClassName(o,["style","cancel_button","content"]),id:"uh-search-cancel",i13nModel:this.getI13n(o,"cancel"),onClick:this.handleCancel,type:"button"},this.getIntl("CANCEL"))},_getNodeSearchButton:function(){var e,t=[],s="submit",i=this.getConf(o,["useIcon"],!1),a=this.getConf(o,["icon"]),r=this.getClassName(o,["style","search_button","content_1"]),l=n(4)(r,this.getClassName(o,["style","search_button","content_2"])),c="buttonText";if(this.state.verticalSearchEnabled){var u=n(4)(r,this.getClassName(o,["style","search_button","content_3"]));s="button",e=this.handleWebSearch,c="webSearchButtonText",t.push(n(1).createElement(n(20).I13nButton,{key:"verticalSearch",className:u,i13nModel:this.getI13n(o,"vertical_search"),id:"vert-search-button",style:this.getClassName(o,["style","search_button","inline_2"]),type:"submit"},this.getIntl(this.getConf(o,"verticalSearchButtonText"))))}return t.push(n(1).createElement(n(20).I13nButton,{key:"webSearch",className:l,i13nModel:this.getI13n(o,"search"),id:"search-button",onClick:e,style:this.getClassName(o,["style","search_button","inline_1"]),type:s},i&&a?n(1).createElement(n(12).Icon,{asset:a.get("asset").toJS(),height:a.get("height")||a.get("size"),width:a.get("width")||a.get("size"),color:this.getClassName(o,["style","search_button","iconColor"])}):this.getIntl(this.getConf(o,c)))),t},_getNodeSearchInput:function(){return n(1).createElement("div",{ref:"searchInputWrapper",key:"searchInputWrapper",className:this.getClassName(o,["style","input","wrapper"])},n(1).createElement((s||(s=function(e){return e&&e.__esModule?e:{default:e}}(n(1905)))).default,{autofocus:this.getConf(o,"autofocus"),cancelBtn:this.getConf(o,"cancelBtn"),className:this.getClassName(o,["style","input","content"]),clearBtn:this.getConf(o,"clearBtn"),config:this.getConf(o,"autocomplete").toJS(),enableFocusBeacon:this.props.data.get("enable_focus_beacon"),footerComponent:this.props.data.get("footer_component"),id:"search-assist-input",inputName:"p",isSmartphone:"smartphone"===this.context.session.dimensions.device,magnifyingGlass:this.getConf(o,"magnifyingGlass"),onFocus:this.handleFocus,onSearchHintChanged:this.handleSearchHintChanged,onSelect:this.handleSubmit,placeholder:this._getMetaDataPlaceholderText(),placeholderIcon:this.getConf(o,"placeholderIcon"),ref:"searchInput",searchHint:this.getConf(o,"searchHint"),showFooter:this.props.data.get("show_footer"),termCompleteBtn:this.getConf(o,"termCompleteBtn"),templateComponent:this.props.data.get("template_component")}))},_getNodeSearchQuery:function(){var e=this,t=e.getSearchOrigin(),s=e.getConf(o,"queries"),i=this.state.verticalSearchEnabled;return(s=t.merge(s)).keySeq().toArray().map(function(t,a){var r=t;if(i&&"fr"===t&&(r="vfr"),"vfr"===t)return null;var l=s.get(r)||"";return Array.isArray(l)&&(l=l.shift()),l=l&&l.length?n(382)(l,{BUCKET:e._getMetaDataBucket(),SITE:e.getMetaData(o,"site"),FRSOURCE:e._getMetaDataFrSource()}):"",n(1).createElement("input",{ref:"query_"+t,key:a,type:"hidden",name:t,value:l})}.bind(e))},_getNodeSkipNav:function(){if(!n(1778).isEnabled(this.context.conf.getIn(["ui","skip_nav"])))return null;var e={data:this.context.conf.getIn(["skip_nav","data"]).toJS(),style:this.context.conf.getIn(["skip_nav","style"]).toJS()};return n(1).createElement(n(2021),e)},_getNodeSubLogo:function(){return n(1778).isEnabled(this.context.conf.getIn(["ui","logo"]))?n(1).createElement(n(2022),null):null},_onGlowClass:function(){this.setState({buttonGlow:!0})},_onNoGlowClass:function(){this.setState({buttonGlow:!1})},_onNoGlowingClass:function(){this.setState({buttonGlowing:!1})},_onGlowingClass:function(){this.setState({buttonGlowing:!0})},_animateSearchBtn:function(){var e=this;e._onNoGlowClass(),setTimeout(function(){e._onGlowClass(),setTimeout(function(){e._onNoGlowClass(),setTimeout(function(){e._onNoGlowingClass()},1e3)},1e3)},1e3)},componentDidMount:function(){var e=this.context.session.dimensions.device;if("smartphone"===e||"tablet"===e){var t=n(13).findDOMNode(this.refs.searchInput),s=n(13).findDOMNode(this.refs.cancelButton);t&&t.addEventListener("click",this.handleFocus,!1),s&&s.addEventListener("click",this.handleCancel,!1)}this._animateSearchBtn()},doSubmit:function(e){var t=this.context.conf.get("search").toJS().instantSearch,s="",i=this.refs.searchInput,o=this.refs.searchForm;if(""!==(s=i.getUserInput()).trim())return t?(this.context.executeAction(n(92),{url:"/search/"+encodeURIComponent(s)}),!1):void(o&&o.submit());e&&e.preventDefault()},getInitialState:function(){return{fr_source:"sb",buttonGlow:!0,buttonGlowing:!0,verticalSearchEnabled:n(1778).isEnabled(this.getConf(o,"verticalSearchEnabled"))&&this.getConf(o,"verticalSearchButtonText")&&this._getActionUrl("verticalSearchAction")}},getSearchOrigin:function(){var e,t=this.context.conf.get("searchOrigin"),s=n(2)(this,["context","session","query","fr"],null);return s?e=n(5).fromJS({fr:s}):t.get("fr")&&("yfp-t-{BUCKET}"===t.get("fr")||"yfp-hrtab-{BUCKET}"===t.get("fr")||"yfp-hrmob-{BUCKET}"===t.get("fr"))&&this.props.data&&this.props.data.get("site")?(e=n(1850).queries[this.props.data.get("site")],"tablet"===this.context.session.dimensions.device&&"yfp-hrtab-{BUCKET}"===t.get("fr")?e=JSON.parse('{"fr": "yfp-hrtab-{BUCKET}"}'):"smartphone"===this.context.session.dimensions.device&&"yfp-hrmob-{BUCKET}"===t.get("fr")?e=JSON.parse('{"fr": "yfp-hrmob-{BUCKET}"}'):e||(e=n(1850).queries.default),e=n(5).fromJS(e)):e=t,e},handleCancel:function(e){e&&(e.preventDefault(),e.stopPropagation());var t=this.refs.searchInput;t&&t.clearInput();var n=this.props.data.get("hide_search_view");n&&n(e)},handleFocus:function(){var e=this.props.data.get("show_search_view");e&&e()},handleSearchHintChanged:function(e){var t=this.context.conf.get("search").toJS().instantSearch;""!==e&&!0===t&&this.context.executeAction(n(92),{url:"/search/"+e})},handleWebSearch:function(e){var t=this._getActionUrl("action"),n=this.context.conf.getIn(["searchOrigin","fr"]);""!==this.refs.searchInput.getUserInput().trim()&&(this.refs.searchForm.action=t,this.refs.query_fr.value=n),this.handleSubmit(e)},handleSubmit:function(e){i("handleSubmit",e);var t="sb",n=this.props.data.get("handle_submit"),s="",o=this.refs.searchInput;e&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.source&&(t=e.source)),n?(o&&(s=o.getUserInput()),n(s)):(this.setState({fr_source:t}),this.doSubmit())},render:function(){var e=n(4)(this.getClassName(o,["style","container","content"]),{glow:this.getConf(o,"glowEnabled")&&this.state.buttonGlow,glowing:this.getConf(o,"glowEnabled")&&this.state.buttonGlowing,"two-btn":this.state.verticalSearchEnabled});return n(1).createElement("div",{id:"uh-search",className:this.getClassName(o,["style","container","wrapper"])},n(1).createElement("form",{action:this._getMetaDataAction(),className:e,method:"get",name:"input",onSubmit:this.props.data.get("handle_submit")||this.handleSubmit,ref:"searchForm"},n(1).createElement("label",{className:"Hidden",htmlFor:"search-assist-input"},this.getIntl("SEARCH")),this._getNodeSearchLayout(),this._getNodeSearchQuery()),this._getNodeSkipNav())}});e.exports=o},2021:function(e,t,n){"use strict";var s=n(1557)("uh:components:skip_nav/SkipNav"),i=n(3)({autobind:!1,displayName:"SkipNav",propTypes:{data:n(0).object,styles:n(0).object},getData:function(){var e,t={items:[]},n=this.props.data&&this.props.data.items||{},i=Object.keys(n).filter(function(e){return n[e].order>0}).sort(function(e,t){return parseInt(n[e].order)-parseInt(n[t].order)});for(e=0;e<i.length;e++)t.items.push(n[i[e]]);return s("getData",t),t},getInitialState:function(){return{data:this.getData()}},render:function(){var e=this.getData(),t=this;if(s("render","data",e),e&&e.items&&0===e.items.length)return null;var i=e.items.map(function(e,s){return n(1).createElement("li",{key:s,tabIndex:"3"},n(1).createElement("a",{className:t.props.style.link.content,href:e.link},e.name))});return n(1).createElement("ul",{id:"skip-nav",className:this.props.style.container.wrapper},i)}});e.exports=i},2022:function(e,t,n){"use strict";var s=n(1557)("uh:components:logo:SubLogo"),i=n(3)({autobind:!1,contextTypes:{conf:n(0).object.isRequired,session:n(0).object.isRequired},displayName:"SubLogo",mixins:[n(1779),n(33)],statics:{base:["logo"],className:{style:{cobrand:{yahoo:{content:"_getClassNameCobrandYahooContent"}}}},i13n:{logo:{elm:"btn",itc:"0",slk:"poweredbyyahoo",subsec:"logo"}}},_getClassNameCobrandYahooContent:function(){var e=[];return e.push(this.getClassName(i,["style","cobrand","yahoo","content_1"])),e=n(4)(e),s("_getClassNameCobrandYahooContent",e,arguments),e},_getNodeSubLogo:function(){var e=this.context.conf,t=null,s=this.getIntl(this.getConf(i,"text")||"YAHOO");return n(1778).isEnabled(e.getIn(["ui","logo"]))?("cobrandSplit"===this.getClassName(i,["style","template"])&&(t=n(1).createElement("span",null,n(1).createElement("style",null,n(1778).mediaBackgroundImage("#uh-sublogo",this.getClassName(i,["style","cobrand","image_1x"]),this.getClassName(i,["style","cobrand","image_2x"]))),n(1).createElement(n(20).I13nAnchor,{id:"uh-sublogo",className:this.getClassName(i,["style","cobrand","yahoo","content"]),href:this.getConf(i,"partnerLink"),i13nModel:this.getI13n(i,"logo")},n(1).createElement("b",{className:"Hidden"},s)))),t):null},getData:function(){return{site:n(1778).getSite(this.context)||this.context.session.dimensions.site}},getInitialState:function(){return s("getInitialState","data",this.getData()),{data:this.getData()}},render:function(){return n(1).createElement("td",null,this._getNodeSubLogo())}});e.exports=i},2023:function(e,t,n){"use strict";var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},i=n(3)({displayName:"ProfileCard",mixins:[n(1779),n(33)],contextTypes:{session:n(0).object.isRequired},statics:{initializeAction:n(650).getProfile,componentConfig:{name:"componentHeader",filters:"uh"},storeListeners:[n(90),n(369)]},getInitialState:function(){this.UserStore=this.getStore(n(90)),this.ProfileStore=this.getStore(n(369));var e=this.ProfileStore.getProfile(),t=this.props.componentConfig.uh;return{avatar:e&&e.imageUrl||null,email:this.UserStore.getAlias(),firstName:e&&e.nickName||this.UserStore.getFirstName(),isSignedIn:this.UserStore.isSignedIn(),open:n(2)(t,["ui","profileCardOpen"])||!1,componentConfig:t}},onChange:function(){var e=this.ProfileStore.getProfile(),t=this.props.componentConfig.uh,n={avatar:e&&e.imageUrl||null,email:this.UserStore.getAlias(),firstName:e&&e.nickName||this.UserStore.getFirstName(),isSignedIn:this.UserStore.isSignedIn(),open:!this.state.open,componentConfig:t};this.setState(n)},render:function(){var e=this.state.componentConfig,t=e.profile,i=e.ui;if(!this.state.isSignedIn)return null;var o=n(4)("uh-profile-card Bgc(#fff)",{"uh-profile-card-open":this.state.open}),a=this.state.avatar,r={email:this.state.email,userName:this.state.firstName||this.getIntl("WELCOME_BACK"),avatarImg:a},l=t.avatarSize,c=a&&!/(profile_|39361574426_98028a_)/.test(a),u=c?{style:{backgroundImage:"url("+a+")",backgroundSize:"cover",width:l,height:l}}:{style:{verticalAlign:"middle",marginRight:"10px"}},h=c?n(1).createElement("i",s({className:"profile-avatar D(ib) Mend(10px) Bdrs(100px)"},u)):n(1).createElement(n(12).Icon,s({asset:n(677),height:l,color:"#32007f"},u));return n(1).createElement("div",{id:this.props.id,className:o},n(1).createElement("div",{className:"P(20px)"},i.profileCardAvatar?h:null,n(1).createElement("div",{className:"D(ib) Va(t) C(#0076e6)"},i.profileCardName?n(1).createElement("div",{className:"profile-name Fw(b) Maw(120px) Ell"},r.userName||this.getIntl("WELCOME_BACK")):null,i.profileCardEmail?n(1).createElement("div",{className:"profile-email Maw(120px) Ell"},r.email):null),n(1).createElement("span",{className:"Fl(end) Px(20px) Py(10px) Cur(p) uh-profile-card-open_Rotate(180deg)",onClick:this.onChange},n(1).createElement(n(12).Icon,{asset:n(381),height:"14",color:"#dfdfdf"}))),n(1).createElement("div",{className:"D(n) uh-profile-card-open_D(b)"},i.profileCardAcctInfo?n(1).createElement(n(20).I13nAnchor,{className:"profile-acctinfo D(b) Td(n) C(#000) P(20px) Bdtw(1px) Bdtc(#dfdfdf) Bdts(s)",href:t.settingUrl,i13nModel:{elm:"itm",itc:"0",slk:"acctinfo",subsec:"profile"}},this.getIntl("ACCOUNT_INFO")):null,i.profileCardSignout?n(1).createElement(n(20).I13nAnchor,{className:"profile-signout D(b) Td(n) C(#000) P(20px) Bdtw(1px) Bdtc(#dfdfdf) Bdts(s)",href:t.signoutUrl,i13nModel:{elm:"itm",itc:"0",slk:"signout",subsec:"profile"}},this.getIntl("SIGNOUT")):null))}});e.exports=i},2053:function(e,t,n){"use strict";var s=n(1557)("uh:components:nav/TopbarNavItem"),i=n(3)({contextTypes:{conf:n(0).object.isRequired,theme:n(0).object.isRequired},displayName:"TopbarNavItem",getDefaultProps:function(){return{data:{group:"main",icon:!1,item:{id:"home",name:"Home",url:"http://www.yahoo.com",order:-1,follow:!1},index:-1,is_open:!1},method:{getClassNameLinkHomeContent:function(){},getClassNameLinkHomeWrapper:function(){},getClassNameLinkHomeIconHomeStyle:function(){}}}},mixins:[n(1779),n(56)],propTypes:{data:n(0).object.isRequired,method:n(0).object},statics:{base:["topbar"],className:{style:{nav_main:{link_home:{content:"_getClassNameLinkHomeContent",wrapper:"_getClassNameLinkHomeWrapper",icon:{home:{style:"_getClassNameLinkHomeIconStyleHome"}}}}}},i13n:{link:{elm:"itm",itc:"0",sec:"uh"}}},_getClassNameLinkHomeContent:function(){var e=this.props.methods.getClassNameLinkHomeContent.call(this,this._isMenuOpen());return s("_getClassNameLinkHomeContent",e,arguments),e},_getClassNameLinkHomeWrapper:function(){var e=this.props.methods.getClassNameLinkHomeWrapper.call(this,this._isMenuOpen());return s("_getClassNameLinkHomeWrapper",e,arguments),e},_getClassNameLinkHomeIconStyleHome:function(){var e=this.props.methods.getClassNameLinkHomeIconHomeStyle.call(this,this._isMenuOpen());return s("_getClassNameLinkHomeIconStyleHome",e,arguments),e},_getNodeContent:function(){return this.props.data.icon?n(1).createElement("div",null,this._getNodeIcon(),n(1).createElement("b",{className:this.getClassName(i,["style",this._getGroup("nav_"),this._getId("link_"),"text"])},this._getName())):this._getName()},_getNodeIcon:function(){var e=this._getId(),t=this.getConf(i,["data","icon",e]);return t?n(1).createElement(n(12).Icon,{asset:t.get("asset").toJS(),height:t.get("size"),width:t.get("size"),color:this.getClassName(i,["style",this._getGroup("nav_"),this._getId("link_"),"icon",e,"color"]),style:this.getClassName(i,["style",this._getGroup("nav_"),this._getId("link_"),"icon",e,"style"])}):null},_getClassWrapper:function(){var e="link",t=this._getId();return"home"!==t&&"more"!==t||(e=e+"_"+t),this.getClassName(i,["style",this._getGroup("nav_"),e,"wrapper"])},_getClassContent:function(){var e="link",t=this._getId();return"home"!==t&&"more"!==t||(e=e+"_"+t),this.getClassName(i,["style",this._getGroup("nav_"),e,"content"])},_getFollow:function(){return this.props.data.item.follow},_getGroup:function(e,t){return n(1778).strExpand(this.props.data.group,e,t)},_getId:function(e,t){return n(1778).strExpand(this.props.data.item.id,e,t)},_getIndex:function(){return this.props.data.index},_getName:function(){return this.props.data.item.name},_getOrder:function(){return this.props.data.item.order+""},_getUrl:function(){return this.props.data.item.url},_isMenuOpen:function(){return this.props.data.is_open},render:function(){s("data",this.props.data);var e=i.i13n.link;return e.slk=this._getId("uh-tb-"),e.subsec=this._getGroup("tb-"),e.cpos=this._getOrder(),n(1).createElement("li",{id:this._getId("uh-tb-"),className:this._getClassWrapper()},n(1).createElement(n(78),{className:this._getClassContent(),followLink:this._getFollow(),href:this._getUrl(),model:this.getI13n(i,"link",e)},this._getNodeContent()))}});e.exports=i},2190:function(e,t,n){"use strict";var s,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},o=n(1557)("uh:I13nHoverAnchor"),a=n(3)({displayName:"HoverAnchor",onMouseEnter:function(){var e,t=this.props.onHoverPayload;e={beaconType:t.beaconType||"beaconEvent",arguments:t.arguments||[]},this.props.hasPanel||this.props.i13n.executeEvent("beacon",e,function(){o("callback for on mouse hover beacon")})},render:function(){var e=Object.assign({},this.props);return delete e.onHoverPayload,delete e.i13n,delete e.hasPanel,this.props.onHoverPayload?n(1).createElement("a",i({},e,{onMouseEnter:this.onMouseEnter})):n(1).createElement("a",e)}});s=n(20).createI13nNode(a,{isLeafNode:!0,bindClickEvent:!0,follow:!0}),e.exports=s},2191:function(e,t,n){"use strict";var s=n(1557)("uh:mixins:FlyoutMixin"),i="uh-menu-open",o=null,a={mouseenter:!0,focus:!0},r={mouseleave:!0,blur:!0};function l(e,t){var o=n(1563)(e);s("menuState: ",t=!!t),t?o.add(i):o.remove(i),this.setState({isVisible:t})}e.exports={contextTypes:{executeAction:n(0).func.isRequired},getMenuEvents:function(){return{onMouseEnter:this.toggleMenu,onMouseLeave:this.toggleMenu,onFocus:this.toggleMenu,onBlur:this.toggleMenu}},toggleMenu:function(e){var t=this,n=e.currentTarget,i=e.type;e.preventDefault(),s("toggleMenu: ",i,n),t.menuTimeout&&(s("clearTimeout"),clearTimeout(t.menuTimeout)),t.menuTimeout=setTimeout(function(){a[i]&&n===o?l.call(t,n,!0):r[i]&&n!==o&&l.call(t,n,!1)},300),o=a[i]?n:null}}},2192:function(e,t,n){"use strict";var s=n(1557)("uh:components:profile:SignedOutProfile"),i=n(3)({contextTypes:{conf:n(0).object.isRequired,session:n(0).object.isRequired,theme:n(0).object.isRequired},displayName:"SignedOutProfile",mixins:[n(1779),n(56)],propTypes:{data:n(0).object.isRequired},statics:{base:["profile"],className:{style:{button:{content:"_getClassNameContent",wrapper:"_getClassNameWrapper"}}},i13n:{signed_in:{elm:"btn",itc:"0",slk:"signin",subsec:"profile"}}},_getClassNameContent:function(){var e=[];return e.push(this.getClassName(i,["style","button","content_1"])),e.push(this.getClassName(i,["style","button","content_2"])),e=n(4)(e),s("_getClassNameContent",e,arguments),e},_getClassNameWrapper:function(){return s("_getClassNameWrapper",null,this.arguments),null},_getMetaDataDoneUrl:function(){var e=this.getMetaData(i,"page_url");return s("_getMetaDataDoneUrl",e),e},_getMetaDataLink:function(){var e,t=this.context.session.dimensions,o=["urls","signed_in","query"],a=this.getConf(i,["urls","signed_in"])||n(5).Map();return a=a.mergeDeep({query:{".intl":this.getConf(i,o.concat([".intl"]))||t.intl,".lang":this.getConf(i,o.concat([".lang"]))||t.lang,".src":this.getConf(i,o.concat([".src"]))||this.getMetaData(i,"site")||t.site,".done":this.getConf(i,o.concat([".done"]))||this._getMetaDataDoneUrl()}}).toJS(),e=n(24).format(a),s("_getMetaDataLink",e),e},render:function(){return n(1).createElement("li",{className:this.getClassName(i,["style","button","wrapper"])},n(1).createElement(n(2190),{id:"uh-signedin",className:this.getClassName(i,["style","button","content"]),onHoverPayload:this.getClassName(i,["onHoverI13nSignOut"]),hasPanel:!0,href:this._getMetaDataLink(),i13nModel:this.getI13n(i,"signed_in"),style:this.getClassName(i,["style","button","inline"])},this.getIntl("SIGNIN")))}});e.exports=i},2193:function(e,t,n){"use strict";var s=n(3)({contextTypes:{executeAction:n(0).func.isRequired,getStore:n(0).func.isRequired,renderTarget:n(0).object,session:n(0).object},propTypes:{label:n(0).string,labelBackground:n(0).string,labelColor:n(0).string,pointerColor:n(0).string},displayName:"ShareReminder",getInitialState:function(){return{showReminder:!1}},getDefaultProps:function(){return{label:"Remember to share!",labelBackground:"Bgc(#2592fc)",labelColor:"C(#fff)",pointerColor:"Bdtc(#2592fc) Bdbc(#2592fc)"}},componentDidMount:function(){this.setState({showReminder:!0})},render:function(){if(!this.state.showReminder)return null;if(!(this.props.componentConfig||{}).enableFBShareReminder||!n(1778).isFacebookApp())return null;var e=this.props,t={bubble:"reminder-bubble Pos(a) Ov(v) D(ib) Z(1) H(a) W(a) T(3px) P(0) End(0)",container:"Pos(f) End(2px)",cover:"Z(1) Pos(r) W(130px)",label:n(4)("Pos(r) Bdrs(5px) Pstart(4px) Pend(4px) Pt(8px) Pb(8px) Fz(11px) Ff(Helvetica Neue) Fw(n)",e.labelBackground,e.labelColor,"reminder-label"),pointer:n(4)("Pos(a) Bds(s) Bdtw(0) Bdstartw(6px) Bdbw(7px) Bdendw(6px) Bdstartc(t)","Bdendc(t) D(b) H(0) W(0) Z(1) T(0) Start(72%)",e.pointerColor)};return n(1).createElement("div",{className:"reminder-bubble-container"},n(1).createElement("div",{className:t.container},n(1).createElement("div",{className:t.cover},n(1).createElement("div",{className:t.pointer}),n(1).createElement("div",{className:t.bubble},n(1).createElement("div",{className:t.label},e.label)))))}});e.exports=s},2244:function(e,t,n){"use strict";e.exports={NotificationClient:n(2459)}},2245:function(e,t,n){"use strict";var s,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},o=n(1557)("uh:I13nHoverButton"),a={cloneDeep:n(258),merge:n(28)},r=n(3)({displayName:"HoverButton",fireBeacon:function(){var e=a.cloneDeep(this.props.hoverI13Params),t={beaconType:"beaconClick",arguments:["uh",e.slk,0,a.merge(e,{itc:2})]};this.props.hasPanel||this.props.i13n.executeEvent("beacon",t,function(){o("callback for on mouse hover/focus beacon")})},render:function(){var e=Object.assign({},this.props);return delete e.hoverI13Params,delete e.hasPanel,delete e.i13n,this.props.hoverI13Params?n(1).createElement("button",i({},e,{onMouseEnter:this.fireBeacon,onFocus:this.fireBeacon})):n(1).createElement("button",e)}});s=n(20).createI13nNode(r,{isLeafNode:!0,bindClickEvent:!0,follow:!0}),e.exports=s},2246:function(e,t,n){"use strict";var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},i=n(1557)("uh:components:profile:SignedInProfile"),o=n(3)({contextTypes:{conf:n(0).object.isRequired,executeAction:n(0).func.isRequired,getStore:n(0).func,session:n(0).object.isRequired,theme:n(0).object.isRequired},displayName:"SignedInProfile",mixins:[n(1779),n(33),n(2191)],propTypes:{data:n(0).object.isRequired,triggerAccountFetch:n(0).func,extraAccountInfoComponent:n(0).oneOfType([n(0).node,n(0).func,n(0).object])},statics:{base:["profile"],className:{style:{avatar:{image:"_getClassNameImage"},button:{content:"_getClassNameContent"}}},i13n:{signed_out:{elm:"btn",itc:"0",slk:"signout",subsec:"profile"},account_info:{elm:"itm",itc:"0",slk:"acct-info",subsec:"profile"},signed_in:{elm:"btn",itc:"1",slk:"profile",subsec:"profile"}}},_getClassNameContent:function(){var e=[];return e.push(this.getClassName(o,["style","button","content_1"])),e.push(this.getClassName(o,["style","button","content_2"])),e=n(4)(e),i("_getClassNameContent",e,arguments),e},_getClassNameImage:function(){var e,t=this.getMetaData(o,"alias"),s=this.getMetaData(o,"image");return this.context.session&&this.context.session.isCorpUser&&(s=n(24).format({protocol:"https",hostname:"backyard.yahoo.com",pathname:["/isweb-icons/staff/",t.replace("@yahoo-inc.com",""),"_square.jpg"].join("")})),i("_getClassNameImage",e={backgroundImage:"url("+s+")"},arguments),e},_getMetaDataAccountInfoLink:function(){var e,t=this.context.session.dimensions,s=["urls","account_info","query"],a=this.getConf(o,["urls","account_info"])||n(5).Map();return a=a.mergeDeep({query:{".intl":this.getConf(o,s.concat([".intl"]))||t.intl,".lang":this.getConf(o,s.concat([".lang"]))||t.lang,".src":this.getConf(o,s.concat([".src"]))||this.getMetaData(o,"site")||t.site}}).toJS(),e=n(24).format(a),i("_getMetaDataAccountInfoLink",e,arguments),e},_getMetaDataDoneUrl:function(){var e=this.getMetaData(o,"page_url");return i("_getMetaDataDoneUrl",e),e},_getMetaDataName:function(){var e=null;return this.props.data.get("first_name")?e=this.props.data.get("first_name"):this.props.data.get("alias")&&(e=this.props.data.get("alias")),i("_getMetaDataName",e,arguments),e},_getMetaDataSignedOutLink:function(){var e,t=this.context.session,s=t.dimensions,a=["urls","signed_out","query"],r=this.getConf(o,a.concat([".intl"]))||s.intl,l=this.getConf(o,["urls","signed_out"])||n(5).Map();return l=l.mergeDeep({query:{".intl":r,".lang":this.getConf(o,a.concat([".lang"]))||s.lang,".src":this.getConf(o,a.concat([".src"]))||this.getMetaData(o,"site")||s.site,".done":this.getConf(o,a.concat([".done"]))||n(1778).getLogoUrl(r,t.protocol)||this._getMetaDataDoneUrl()}}).toJS(),e=n(24).format(l),i("_getMetaDataSignedOutLink",e,arguments),e},_getNodeAccountSwitch:function(){var e=this.getStore(n(10)).getComposite("account-switch-uh");return e&&e.components?(this.props.extraAccountInfoComponent&&e.components[0]&&(e.components[0].props=Object.assign({},e.components[0].props,{extraAccountInfoComponent:this.props.extraAccountInfoComponent})),n(1).createElement(n(194),{components:e.components})):null},_getNodeAccountInfo:function(){return n(1).createElement("div",{className:this.getClassName(o,["style","account_info","wrapper"])},n(1).createElement("div",{className:this.getClassName(o,["style","account_info","name"])},this._getMetaDataName()),n(1).createElement("div",{className:this.getClassName(o,["style","account_info","alias"])},this.getMetaData(o,"alias")),n(1).createElement(n(20).I13nAnchor,{id:"uh-settings",className:this.getClassName(o,["style","account_info","content"]),href:this._getMetaDataAccountInfoLink(),i13nModel:this.getI13n(o,"account_info")},this.getIntl("ACCOUNT_INFO")))},_getNodeSignedOut:function(){return n(1).createElement("div",{className:this.getClassName(o,["style","signed_out","wrapper"])},n(1).createElement(n(20).I13nAnchor,{id:"uh-signedout",className:this.getClassName(o,["style","signed_out","content"]),href:this._getMetaDataSignedOutLink(),i13nModel:this.getI13n(o,"signed_out")},this.getIntl("SIGNOUT")))},_getNodePanel:function(){var e=this.getClassName(o,["style","panel","wrapper"]);return this.getStore(n(1577).UHAccountSwitchStore).getIsEnabled()?n(1).createElement("div",{className:e},this._getNodeAccountSwitch()):n(1).createElement("div",{className:e},this._getNodeAccountInfo(),this._getNodeSignedOut())},getInitialState:function(){return{}},menuTriggerHandler:function(e){this.props.triggerAccountFetch&&this.props.triggerAccountFetch(),this.toggleMenu(e)},onChange:function(e){this.mounted},_getNodeAvatar:function(){var e=this.getClassName(o,["style","avatar"]),t={src:this.getMetaData(o,"image"),name:this._getMetaDataName(),enableAlphatar:this.getConf({},["ui","alphatar"])};return n(1).createElement(n(2245),{id:"uh-profile",i13nModel:this.getI13n(o,"signed_in"),hasPanel:this.state.isVisible,hoverI13Params:this.getI13n(o,"signed_in"),className:e.wrapper},n(1).createElement(n(1577).Avatar,s({},t,{styles:{avatar:e}})),n(1).createElement("b",{className:e.name},this._getMetaDataName()))},componentDidMount:function(){this.mounted=!0},componentWillUnmount:function(){this.mounted=!1},render:function(){return this.context.session.isLightWeightBrowser?n(1).createElement("li",{className:this.getClassName(o,["style","button","wrapper"])},n(1).createElement(n(20).I13nAnchor,{id:"uh-signedin",href:this._getMetaDataSignedOutLink(),className:this.getClassName(o,["style","button","content"]),i13nModel:this.getI13n(o,"signed_out")},this.getIntl("SIGNOUT"))):n(1).createElement("li",{className:this.getClassName(o,["style","container","wrapper"]),onFocus:this.menuTriggerHandler,onBlur:this.toggleMenu,onMouseEnter:this.menuTriggerHandler,onMouseLeave:this.toggleMenu},this._getNodeAvatar(),this._getNodePanel())}});e.exports=o},2247:function(e,t,n){"use strict";var s=n(1557)("uh:components:nav/TopbarNavDropdownItem"),i=Object.assign,o=n(3)({contextTypes:{conf:n(0).object.isRequired,session:n(0).object.isRequired,theme:n(0).object.isRequired},displayName:"TopbarNavDropdownItem",getDefaultProps:function(){return{data:{group:"main",icon:!1,item:{id:"home",name:"Home",url:"http://www.yahoo.com",order:-1,follow:!1},index:-1,is_open:!1,getClassNameLinkHomeIconHomeStyle:function(){}},methods:{getClassNameLinkHomeIconHomeStyle:function(){},getClassNameLinkHomeContent:function(){},getClassNameLinkHomeWrapper:function(){}}}},mixins:[n(1779),n(56)],propTypes:{data:n(0).object.isRequired,methods:n(0).object.isRequired},statics:{base:["topbar"],className:{style:{nav_main:{link_home:{content:"_getClassNameLinkHomeContent",wrapper:"_getClassNameLinkHomeWrapper",icon:{down_arrow:{style:"_getClassNameLinkHomeIconStyleDownArrow"},home:{style:"_getClassNameLinkHomeIconStyleHome"}}},link_more:{content:"_getClassNameLinkMoreContent",wrapper:"_getClassNameLinkMoreWrapper",icon:{down_arrow:{style:"_getClassNameLinkMoreIconStyleDownArrow"}}}}}},i13n:{link:{elm:"itm",itc:"0",sec:"uh"}}},_getClassNameLinkHomeIconStyleDownArrow:function(){var e=null,t=["style","nav_main","link_home","icon","down_arrow"];return(e=this.getClassName(o,t.concat(["inline"])))&&(e=this._isMenuOpen()?i(e,{fill:this.getClassName(o,t.concat(["color_2"]))}):i(e,{fill:this.getClassName(o,t.concat(["color_1"]))})),s("_getClassNameLinkHomeIconStyleDownArrow",e,arguments),e},_getClassNameLinkHomeIconStyleHome:function(){var e=this.props.methods.getClassNameLinkHomeIconHomeStyle.call(this,this._isMenuOpen());return s("_getClassNameLinkHomeIconStyleHome",e,arguments),e},_getClassNameLinkHomeContent:function(){var e=this.props.methods.getClassNameLinkHomeContent.call(this,this._isMenuOpen());return s("_getClassNameLinkHomeContent",e,arguments),e},_getClassNameLinkHomeWrapper:function(){var e=this.props.methods.getClassNameLinkHomeWrapper.call(this,this._isMenuOpen());return s("_getClassNameLinkHomeWrapper",e,arguments),e},_getClassNameLinkMoreIconStyleDownArrow:function(){var e=null,t=["style","nav_main","link_more","icon","down_arrow"];return(e=this.getClassName(o,t.concat(["inline"])))&&(e=this._isMenuOpen()?i(e,{fill:this.getClassName(o,t.concat(["color_2"]))}):i(e,{fill:this.getClassName(o,t.concat(["color_1"]))})),s("_getClassNameLinkMoreIconStyle",e,arguments),e},_getClassNameLinkMoreContent:function(){var e=[],t=["style","nav_main","link_more"];return e.push(this.getClassName(o,t.concat(["content_1"]))),this._isMenuOpen()&&e.push(this.getClassName(o,t.concat(["content_2"]))),e=n(4)(e),s("_getClassNameLinkMoreContent",e,arguments),e},_getClassNameLinkMoreWrapper:function(){var e=[],t=["style","nav_main","link_more"];return e.push(this.getClassName(o,t.concat(["wrapper_1"]))),this._isMenuOpen()&&e.push(this.getClassName(o,t.concat(["wrapper_2"]))),e=n(4)(e),s("_getClassNameLinkMoreWrapper",e,arguments),e},_getNodeContent:function(){return this.props.data.icon?n(1).createElement("span",null,this._getNodeIcon(),n(1).createElement("b",{className:this.getClassName(o,["style",this._getGroup("nav_"),this._getId("link_"),"text"])},this._getName())):n(1).createElement("span",{className:this.getClassName(o,["style",this._getGroup("nav_"),this._getId("link_"),"text"])},this._getName())},_getNodeIcon:function(){return this._getIcon(this._getId())},_getNodeIconDownArrow:function(){return this.context.session.isLightWeightBrowser?null:this._getIcon("down_arrow")},_getNodeLink:function(){return n(1).createElement(n(20).I13nAnchor,{id:this._getId("uh-tb-","-link"),className:this.getClassName(o,["style",this._getGroup("nav_"),this._getId("link_"),"content"]),href:this._getUrl(),follow:!1,onClick:this._handleClick,onKeyDown:this._handleKeyDown,role:"button",i13nModel:this.getI13n(o,"link",{slk:this._getId(),subsec:"tb",cpos:this._getIndex()+1+""})},this._getNodeContent(),this._getNodeIconDownArrow())},_getNodeMenu:function(){if(!this._isMenuOpen())return null;var e={group:this._getId(),items:this.props.children};return n(1).createElement(n(2466),{data:e})},_getGroup:function(e,t){return n(1778).strExpand(this.props.data.group,e,t)},_getIcon:function(e){var t=this.getConf(o,["data","icon",e]);return n(1).createElement(n(12).Icon,{asset:t.get("asset").toJS(),height:t.get("size"),width:t.get("size"),color:this.getClassName(o,["style",this._getGroup("nav_"),this._getId("link_"),"icon",e,"color"]),style:this.getClassName(o,["style",this._getGroup("nav_"),this._getId("link_"),"icon",e,"style"])})},_getId:function(e,t){return n(1778).strExpand(this.props.data.item.id,e,t)},_getIndex:function(){return this.props.data.index},_getName:function(){return this.props.data.item.name},_getUrl:function(){return this.props.data.item.url},_handleClick:function(e){e.preventDefault(),s("_handleClick","id",this._getId()),this.props.methods.click.call(this,e,this._getId())},_handleKeyDown:function(e){13!==e.keyCode&&40!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),s("_handleKeyDown","keyCode",e.keyCode,"id",this._getId()),40===e.keyCode||this.props.methods.click.call(this,e,this._getId()))},_isMenuOpen:function(){return this.props.data.is_open},render:function(){return s("data",this.props.data),n(1).createElement("li",{key:this._getIndex(),id:this._getId("uh-tb-"),className:this.getClassName(o,["style",this._getGroup("nav_"),this._getId("link_"),"wrapper"])},this._getNodeLink(),this._getNodeMenu())}});e.exports=o},2248:function(e,t,n){"use strict";var s=n(1778).isClient();e.exports=function(e,t,n){if(!s||!t)return n&&n();var i=e.subscriptionHelper&&e.subscriptionHelper.getSubscriptionHelper();if(!i)return n&&n();i.pushNotificationSubscribe(t,n)}},2447:function(e,t,n){"use strict";var s=n(1557)("uh:components:Header"),i=n(3)({childContextTypes:{conf:n(0).object,theme:n(0).object},contextTypes:{intl:n(0).object,renderTarget:n(0).object,session:n(0).object},propTypes:{componentConfig:n(0).object,enableFocusBeacon:n(0).bool,footerTemplateComponent:n(0).oneOfType([n(0).node,n(0).func,n(0).object]),id:n(0).string,onSubmit:n(0).func,resultTemplateComponent:n(0).oneOfType([n(0).node,n(0).func,n(0).object]),searchComponent:n(0).oneOfType([n(0).node,n(0).func,n(0).object]),extraAccountInfoComponent:n(0).oneOfType([n(0).node,n(0).func,n(0).object]),showFooter:n(0).bool},displayName:"Header",mixins:[n(1779),n(33)],statics:{className:{style:{container:{wrapper:"_getClassNameContainerWrapper"}}},componentConfig:{name:"componentHeader",filter:"uh"},initializeAction:n(2015),storeListeners:[n(1577).UHAccountSwitchStore]},_getClassNameContainerWrapper:function(){var e=[],t=["style","container"];return e.push(this.getClassName(i,t.concat(["wrapper_1"]))),e.push(this.getClassName(i,t.concat(["wrapper_2"]))),e.push(this.getClassName(i,t.concat(["wrapper_7"]))),n(1778).isEnabled(this.context.conf.getIn(["ui","topbar"]))&&n(1778).isEnabled(this.context.conf.getIn(["ui","topbarSticky"]))?e.push(this.getClassName(i,t.concat(["wrapper_4"]))):e.push(this.getClassName(i,t.concat(["wrapper_3"]))),n(1778).isEnabled(this.context.conf.getIn(["ui","topbarSticky"]))?e.push(this.getClassName(i,t.concat(["wrapper_5"]))):e.push(this.getClassName(i,t.concat(["wrapper_6"]))),n(1778).isEnabled(this.context.conf.getIn(["featureSwitches","navrailCollapse"]))&&e.push(this.getClassName(i,t.concat(["wrapper_8"]))),n(1778).isEnabled(this.context.conf.getIn(["ui","partnerTheme"]))&&e.push(this.getClassName(i,t.concat(["wrapper_9"]))),e=n(4)(e),s("_getClassNameContainerWrapper",e,arguments),e},_getNodeHelp:function(){if(!n(1778).isEnabled(this.context.conf.getIn(["ui","help"])))return null;var e={click:this._handleClick,update:this._handleUpdate};return n(1).createElement(n(2448),{data:this.state.data,methods:e})},_getNodeLightweight:function(){var e=null;return this.context.session.isLightWeightBrowser&&(e=n(1).createElement("style",null,n(1778).lightWeightBackground(this.getSite(i)||this.context.session.dimensions.site,this.context.session.dimensions.lang,this.context.session.dimensions.region,this.context.conf.getIn(["ui","theme"])))),e},_getNodeLogo:function(){return n(1778).isEnabled(this.context.conf.getIn(["ui","logo"]))?n(1).createElement(n(2453),{instanceId:this.props.id}):null},_getNodeMail:function(){return n(1778).isEnabled(this.context.conf.getIn(["ui","mail"]))?n(1).createElement(n(2454),null):null},_getNodeNotifications:function(){return n(1778).isEnabled(this.context.conf.getIn(["ui","notifications"]))?n(1).createElement(n(2458),null):null},_getNodeProfile:function(){if(!n(1778).isEnabled(this.context.conf.getIn(["ui","profile"])))return null;var e={componentConfig:{uh:this.props.componentConfig.uh}};return n(1).createElement(n(2460),{triggerAccountFetch:this._triggerAccountFetch,extraAccountInfoComponent:this.props.extraAccountInfoComponent,componentProps:e})},_getNodeSearch:function(){return n(1778).isEnabled(this.context.conf.getIn(["ui","search"]))?n(1).createElement(n(2463),{enableFocusBeacon:this.props.enableFocusBeacon,footerTemplateComponent:this.props.footerTemplateComponent,onSubmit:this.props.onSubmit,resultTemplateComponent:this.props.resultTemplateComponent,searchComponent:this.props.searchComponent,showFooter:this.props.showFooter}):null},_getNodeTopbar:function(){return n(1778).isEnabled(this.context.conf.getIn(["ui","topbar"]))?n(1).createElement(n(2464),null):null},_getContextConf:function(){return n(5).fromJS(this.props.componentConfig.uh)},_getContextTheme:function(){var e=this._getContextConf();if(!e)return n(5).Map();var t=n(5).Map({site:this.getSite(i)||this.context.session.dimensions.site,theme:e.getIn(["ui","theme"])}),s=this.stores.theme.getCachedData(t,this.context.renderTarget&&this.context.renderTarget.isActive());return n(5).Map.isMap(s)?s.get("uh",n(5).Map()):n(5).Map()},_handleClick:function(e){var t=this.state.data,n=t;t.get("is_open").map(function(t,s){n=e===s?n.setIn(["is_open",s],!t):n.setIn(["is_open",s],!1)}),s("_handleClick","name",e),s("_handleClick","prev",t),s("_handleClick","next",n),t!==n&&this.setState({data:n})},_triggerAccountFetch:function(){this.executeAction(n(1577).UHAccountSwitchActions.getAccounts)},_handleUpdate:function(e){var t,n=this.state.data;t=n.merge(e),s("_handleUpdate","data",e),s("_handleUpdate","prev",n),s("_handleUpdate","next",t),n!==t&&this.setState({data:t})},_startAutoPushSubscription:function(){var e=(this.props.componentConfig.uh||{}).notifications||{},t=e.subscriptionHelper||{};if(t.enabled&&e.autoInitSubscription&&n(1778).isBackoffTimerExceeded(e.notifPromoBackoffDuration,"bnpt")){if(window&&window.Notification&&"default"!==window.Notification.permission)return;var s=Object.assign({trackingParams:{aid:e.promoId,elm:"btn",itc:1,sec:"uh-interstisial",subsec:"browser-prompt"},showInstructionsDefault:!1,showInstructionsDenied:!1},t.subscriptionPayload);this.executeAction(n(2248),s)}},getChildContext:function(){return{conf:this._getContextConf(),theme:this._getContextTheme()}},getData:function(){var e=this.stores.route,t=e&&e.getCurrentNavigate(),i=this.context.session,o=this.stores.accountSwitch,a=n(1778).getPageUrl(t,i.host,i.protocol),r=n(5).Map({page_url:a,is_open:{help:!1},addMouseHandler:o.getIsEnabled()&&!o.getAccountsReceived()});return s("getData",r),r},getInitialState:function(){return this.stores={},this.stores.header=this.getStore(n(1780)),this.stores.route=this.getStore("RouteStore"),this.stores.theme=this.getStore(n(1810)),this.stores.accountSwitch=this.getStore(n(1577).UHAccountSwitchStore),s("getInitialState",this.stores.theme.getState()),{data:this.getData()}},componentWillMount:function(){var e=n(2)(this.props,["componentConfig","uh","notifications","subscriptionHelper"],{});e.enabled&&this.executeAction(n(2468),e)},componentDidMount:function(){this.mounted=!0,this.executeAction(n(1800).initializeUHCrumbs),this._pushSubscriptionTimer=setTimeout(this._startAutoPushSubscription,500)},componentWillUnmount:function(){this.mounted=!1,clearTimeout(this._pushSubscriptionTimer)},onChange:function(){if(this.mounted){var e=this.getData();s("onChange","data",e),this.setState({data:e})}},shouldComponentUpdate:function(e,t){var n=!0;return this.context.renderTarget&&(n=this.context.renderTarget.isActive()),n},render:function(){var e,t=this.state.data;return this.context.conf=this._getContextConf(),this.context.theme=this._getContextTheme(),s("render","data",t),!n(1778).isEnabled(this.context.conf.getIn(["data","action","load_theme","client","enabled"],!1))||this.context.theme&&0!==this.context.theme.size?(t.get("addMouseHandler")&&(s("account switch mouse handler added"),e=this._triggerAccountFetch),n(1).createElement("div",{onMouseMove:e},this._getNodeLightweight(),this._getNodeTopbar(),n(1).createElement("div",{id:this.props.id,className:this.getClassName(i,["style","container","wrapper"]),"data-name":n(1851).name,"data-version":n(1851).version},n(1).createElement("div",{className:this.getClassName(i,["style","container","content"])},this._getNodeLogo(),this._getNodeSearch(),n(1).createElement("ul",{id:"uh-right",className:this.getClassName(i,["style","container","right_list"])},this._getNodeProfile(),this._getNodeNotifications(),this._getNodeMail(),this._getNodeHelp()))))):null}});e.exports=i},2448:function(e,t,n){"use strict";var s=n(1557)("uh:components:help/Help"),i=n(3)({contextTypes:{conf:n(0).object.isRequired,session:n(0).object.isRequired},displayName:"Help",mixins:[n(1779),n(33)],propTypes:{data:n(0).object,methods:n(0).object},statics:{base:["help"],metaData:{done_url:"_getMetaDataDoneUrl"}},_formatItem:function(e,t){var o=e,a=o;a=a.set("id",t);var r=this._formatTitle(t,o.get("title"));if(r&&(a=a.set("title",r)),!o.get("link")&&o.get("url")){var l=this.context.session.dimensions,c=["url","query"],u=o.get("url")||n(5).Map();"account_info"===t&&(u=u.mergeDeep({query:{".intl":o.getIn(c.concat([".intl"]))||l.intl,".lang":o.getIn(c.concat([".lang"]))||l.lang,".src":o.getIn(c.concat([".src"]))||n(1778).getSite(this.context)||l.site,".done":this.getConf(i,c.concat([".done"]))||this._getMetaDataDoneUrl()}})),a=(a=a.set("link",n(24).format(u.toJS()))).set("follow",!0)}return s("_formatItem",o,a),a},_formatTitle:function(e,t){return t},_getMetaDataDoneUrl:function(){var e=this.getMetaData(i,"page_url");return s("_getMetaDataDoneUrl",e),e},_processItems:function(e){return e.filter(function(e){return e.get("order")>0}).map(function(e,t){return e.merge(this._formatItem(e,t)).delete("url")}.bind(this)).sort(function(e,t){return parseInt(e.get("order"))-parseInt(t.get("order"))}).toList()},getData:function(){var e=this.getMetaData(i,"items")||n(5).fromJS(this.getConf(i,["data","items"])),t=n(5).Map({is_open:this.getMetaData(i,["is_open","help"]),items:this._processItems(e)});return s("getData",t),t},getInitialState:function(){return this.stores={},this.stores.header=this.getStore(n(1780)),{data:this.getData()}},render:function(){var e=this.getData();return s("render","data",e),this.context.session.isLightWeightBrowser?n(1).createElement(n(2449),{data:e,methods:this.props.methods}):n(1).createElement(n(2450),{data:e,methods:this.props.methods})}});e.exports=i},2449:function(e,t,n){"use strict";var s=n(1557)("uh:components:help:HelpLWDefaultView"),i=n(3)({displayName:"HelpLWDefaultView",mixins:[n(1779),n(56)],propTypes:{data:n(0).object},statics:{base:["help"]},_getLink:function(e){return e.get("link")},_getTitle:function(e){return e.get("title")},_getDropDownItems:function(e){var t,s;return e.map(function(e,i){if(t=this._getTitle(e),s=this._getLink(e),t&&s)return t=t.replace(/ /g,"_"),n(1).createElement("option",{value:s,key:i},this.getIntl(t.toUpperCase()))}.bind(this))},_getDropDownMenu:function(){var e=this.props.data.get("items");return e&&0!==e.size?n(1).createElement("select",{id:"uhLWHelpSelect",className:this.getClassName(i,["style","menulist","wrapper"])},this._getDropDownItems(e)):null},render:function(){s("render");var e=["var form = document.getElementById('uh-LWHelpForm');","form.onsubmit = function () {","var e = document.getElementById('uhLWHelpSelect');","var url = e.options[e.selectedIndex].value;","if (url) {","window.location.href=url;","}","return false;","}"].join(" ");return n(1).createElement("li",{className:this.getClassName(i,["style","container","wrapper"])},n(1).createElement("form",{id:"uh-LWHelpForm",name:"form"},this._getDropDownMenu(),n(1).createElement("button",{className:this.getClassName(i,["style","button","wrapper"]),type:"submit"},this.getIntl("GO_TO_HELP"))),n(1).createElement("script",{dangerouslySetInnerHTML:{__html:e}}))}});e.exports=i},2450:function(e,t,n){"use strict";var s=n(1557)("uh:components:help:HelpDefaultView"),i=n(3)({contextTypes:{conf:n(0).object.isRequired,session:n(0).object.isRequired,theme:n(0).object.isRequired},displayName:"HelpDefaultView",mixins:[n(1779),n(33),n(56)],propTypes:{data:n(0).object,methods:n(0).object},statics:{base:["help"]},componentWillMount:function(){this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this)},onMouseEnter:function(e){var t={is_open:{help:this.isPointInPolygons({x:e.clientX,y:e.clientY})}};this.props.methods.update.call(this,t)},onMouseLeave:function(e){var t={is_open:{help:this.isPointInPolygons({x:e.clientX,y:e.clientY})}};this.props.methods.update.call(this,t)},_getNodeIcon:function(){var e=n(1).createElement(n(12).Icon,{asset:this.getClassName(i,["style","icon","settings","asset"]),height:this.getClassName(i,["style","icon","settings","size"]),color:this.getClassName(i,["style","icon","settings","color"])});return n(1).createElement(n(2190),{className:this.getClassName(i,["style","icon","settings","wrapper"]),id:"uh-help",href:"#",onClick:this._handleClick,onHoverPayload:this.getClassName(i,["onHoverI13n"]),hasPanel:this.getMetaData(i,"is_open"),parentType:"cogWheel",ref:"uh-help-menu-icon"},e,n(1).createElement("b",{className:this.getClassName(i,["style","icon","settings","content"])},this.getMetaData(i,"name")))},_getNodeMenuPanel:function(){if(!this.getMetaData(i,"is_open"))return null;var e=this.props.methods;return e.is_point_in_polygons=this.isPointInPolygons,n(1).createElement(n(2451),{data:this.props.data,methods:e,ref:"uh-help-menu-panel"})},_handleClick:function(e){e.preventDefault();s("_handleClick","id","help"),this.props.methods.click.call(this,"help")},isPointInPolygons:function(e){var t=!1;return this.getPolygons().map(function(n,i){s("is_point_in_polygons",i,e,n),e.x>=n.left&&e.x<n.right&&e.y>=n.top&&e.y<n.bottom&&(t=!0)}),s("is_point_in_polygons",t),t},getPolygons:function(){var e={icon:n(13).findDOMNode(this.refs["uh-help-menu-icon"]),panel:this.refs["uh-help-menu-panel"]},t={},s=[];return Object.keys(e).forEach(function(n){if(e[n]&&e[n].getBoundingClientRect&&(s.push(e[n].getBoundingClientRect()),t[n]=e[n].getBoundingClientRect(),"panel"===n)){var i={};i.top=t.icon.bottom,i.bottom=t.panel.top,i.left=t.icon.left,i.right=t.icon.right,i.height=i.bottom-i.top,i.width=i.right-i.left,s.push(i)}}),s},render:function(){return s("render"),n(1).createElement("li",{className:this.getClassName(i,["style","container","wrapper"]),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},this._getNodeIcon(),this._getNodeMenuPanel())}});e.exports=i},2451:function(e,t,n){"use strict";var s=n(1557)("uh:components:help/HelpMenuPanel"),i=n(3)({contextTypes:{conf:n(0).object.isRequired,theme:n(0).object.isRequired},displayName:"HelpMenuPanel",mixins:[n(1779),n(56)],propTypes:{data:n(0).object.isRequired},statics:{base:["help"]},componentWillMount:function(){this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this._getNodeMenuItems=this._getNodeMenuItems.bind(this)},onMouseEnter:function(e){var t={is_open:{help:this.props.methods.is_point_in_polygons.call(this,{x:e.clientX,y:e.clientY})}};this.props.methods.update.call(this,t)},onMouseLeave:function(e){var t={is_open:{help:this.props.methods.is_point_in_polygons.call(this,{x:e.clientX,y:e.clientY})}};this.props.methods.update.call(this,t)},_getNodeMenuItems:function(){var e=this.props.data.get("items");return e&&0!==e.size?e.map(function(e,t){return n(1).createElement(n(2452),{key:e.get("id"),data:n(5).fromJS({item:e,index:t})})}):null},getBoundingClientRect:function(){return n(13).findDOMNode(this).getBoundingClientRect()},render:function(){return s("data",this.props.data),n(1).createElement("div",{className:this.getClassName(i,["style","panel","wrapper"]),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},n(1).createElement("ul",{id:"uh-help-menu-panel",className:this.getClassName(i,["style","panel","content"])},this._getNodeMenuItems()))}});e.exports=i},2452:function(e,t,n){"use strict";var s=n(1557)("uh:components:help/HelpMenuItem"),i=n(5).fromJS({i13n:{link:{elm:"itm",itc:"0",sec:"uh"}}}),o=n(3)({contextTypes:{conf:n(0).object.isRequired,theme:n(0).object.isRequired},displayName:"HelpMenuItem",mixins:[n(1779),n(56)],propTypes:{data:n(0).object.isRequired},statics:{base:["help"],i13n:i.get("i13n")},_getClassWrapper:function(){return this.getClassName(o,["style","link","wrapper"])},_getClassContent:function(){return this.getClassName(o,["style","link","content"])},_getFollow:function(){return this.props.data.getIn(["item","follow"])},_getId:function(e,t){return n(1778).strExpand(this.props.data.getIn(["item","id"]),e,t)},_getLink:function(){return this.props.data.getIn(["item","link"])},_getOrder:function(){return this.props.data.getIn(["item","order"])+""},_getTitle:function(){return this.props.data.getIn(["item","title"])},render:function(){s("data",this.props.data);var e=this._getTitle();return e?(e=e.replace(/ /g,"_"),n(1).createElement("li",{id:this._getId("uh-mi-"),className:this._getClassWrapper()},n(1).createElement(n(78),{className:this._getClassContent(),followLink:this._getFollow(),href:this._getLink(),model:this.getI13n(o,"link",{slk:this._getId("uh-mi-"),subsec:"mi-help",cpos:this._getOrder()})},this.getIntl(e.toUpperCase())))):n(1).createElement("li",{role:"separator",className:this.getClassName(o,["style","separator","content"])})}});e.exports=o},2453:function(e,t,n){"use strict";var s=n(1557)("uh:components:logo:Logo"),i={i13n:{logo:{elm:"btn",itc:"0",slk:"yahoo",subsec:"logo"},partner_logo:{elm:"btn",itc:"0",slk:void 0,subsec:"logo"}}},o=n(3)({contextTypes:{conf:n(0).object.isRequired,session:n(0).object.isRequired,theme:n(0).object.isRequired},propTypes:{instanceId:n(0).string},displayName:"Logo",mixins:[n(1779),n(33)],statics:{base:["logo"],className:{style:{cobrand:{wrapper:"_getClassNameCobrandWrapper",partner:{content:"_getClassNameCobrandPartnerContent"},yahoo:{content:"_getClassNameCobrandYahooContent"}},container:{wrapper:"_getClassNameContainerWrapper"},country_property:{content:"_getClassNameCountryPropertyContent"},property:{content:"_getClassNamePropertyContent"},yahoo:{content:"_getClassNameYahooContent"}}},conf:{link:"_getConfLink"},i13n:i.i13n,storeListeners:[n(1780)]},_getClassNameCobrandWrapper:function(){var e=[];return e.push(this.getClassName(o,["style","cobrand","wrapper_1"])),e.push(this.getClassName(o,["style","cobrand","wrapper_2"])),e=n(4)(e),s("_getClassNameCobrandWrapper",e,arguments),e},_getClassNameCobrandPartnerContent:function(){var e=[];return e.push(this.getClassName(o,["style","cobrand","partner","content_1"])),e.push(this.getClassName(o,["style","cobrand","partner","content_2"])),e=n(4)(e),s("_getClassNameCobrandPartnerContent",e,arguments),e},_getClassNameCobrandYahooContent:function(){var e=[];return e.push(this.getClassName(o,["style","cobrand","yahoo","content_1"])),e.push(this.getClassName(o,["style","cobrand","yahoo","content_2"])),e=n(4)(e),s("_getClassNameCobrandYahooContent",e,arguments),e},_getClassNameContainerWrapper:function(){var e=[];return e.push(this.getClassName(o,["style","container","wrapper_1"])),e.push(this.getClassName(o,["style","container","wrapper_2"])),e=n(4)(e),s("_getClassNameContainerWrapper",e,arguments),e},_getClassNameCountryPropertyContent:function(){var e=[];return e.push(this.getClassName(o,["style","country_property","content_1"])),e.push(this.getClassName(o,["style","country_property","content_2"])),e=n(4)(e),s("_getClassNameCountryPropertyContent",e,arguments),e},_getClassNamePropertyContent:function(){var e=[];return e.push(this.getClassName(o,["style","property","content_1"])),e.push(this.getClassName(o,["style","property","content_2"])),e=n(4)(e),s("_getClassNamePropertyContent",e,arguments),e},_getClassNameYahooContent:function(){var e=[];return e.push(this.getClassName(o,["style","yahoo","content_1"])),e.push(this.getClassName(o,["style","yahoo","content_2"])),e=n(4)(e),s("_getClassNameYahooContent",e,arguments),e},_getConfLink:function(){var e=this.context.session,t=this.state.data.get("site")||e.dimensions.site,i=n(1778).getLogoUrl(e.dimensions.intl,e.protocol,t);return s("_getConfLink",i,arguments),i},_getIdSelectorWithParentPrefix:function(e){return this.props.instanceId?"#"+this.props.instanceId+" #"+e:"#"+e},_getNodeLightweight:function(){return this.context.session.isLightWeightBrowser?n(1).createElement("style",null,n(1778).lightWeightLogo("#uh-logo",this.getClassName(o,["style","template"]))):null},_getNodeLogo:function(){var e,t=this.context.conf,i=null,a=this.context.session.dimensions,r=this.getIntl(this.getConf(o,"text")||"YAHOO");return n(1778).isEnabled(t.getIn(["ui","logo"]))?("cobrand"===(e=this.getClassName(o,["style","template"]))?(s("_getNodeLogo","template","cobrand"),i=n(1).createElement("div",null,n(1).createElement("style",null,n(1778).mediaBackgroundImage(this._getIdSelectorWithParentPrefix("uh-logo-cobrand"),this.getClassName(o,["style","cobrand","image_1x"]),this.getClassName(o,["style","cobrand","image_2x"]))),this._getNodeLightweight(),n(1).createElement("div",{id:"uh-logo-cobrand",className:this.getClassName(o,["style","cobrand","wrapper"])},n(1).createElement(n(20).I13nAnchor,{id:"partner-logo",className:this.getClassName(o,["style","cobrand","partner","content"]),href:this.getConf(o,"partnerLink"),i13nModel:this.getI13n(o,"partner_logo",{slk:a.partner})},n(1).createElement("b",{className:"Hidden"},a.partner)),n(1).createElement(n(20).I13nAnchor,{id:"uh-logo",className:this.getClassName(o,["style","cobrand","yahoo","content"]),href:this.getConf(o,"link"),i13nModel:this.getI13n(o,"logo")},n(1).createElement("b",{className:"Hidden"},r))))):"cobrandSplit"===e?(s("_getNodeLogo","template","cobrand"),i=n(1).createElement("div",null,n(1).createElement("style",null,n(1778).mediaBackgroundImage(this._getIdSelectorWithParentPrefix("uh-logo-cobrand"),this.getClassName(o,["style","cobrand","image_1x"]),this.getClassName(o,["style","cobrand","image_2x"]))),this._getNodeLightweight(),n(1).createElement("div",{id:"uh-logo-cobrand",className:this.getClassName(o,["style","cobrand","wrapper"])},n(1).createElement(n(20).I13nAnchor,{id:"partner-logo",className:this.getClassName(o,["style","cobrand","partner","content"]),href:this.getConf(o,"partnerLink"),i13nModel:this.getI13n(o,"partner_logo",{slk:a.partner})},n(1).createElement("b",{className:"Hidden"},a.partner))))):"country_property"===e?(s("_getNodeLogo","template","country_property"),i=n(1).createElement("div",null,n(1).createElement("style",null,n(1778).mediaBackgroundImage(this._getIdSelectorWithParentPrefix("uh-logo"),this.getClassName(o,["style","country_property","image_1x"]),this.getClassName(o,["style","country_property","image_2x"]))),this._getNodeLightweight(),n(1).createElement(n(20).I13nAnchor,{id:"uh-logo",className:this.getClassName(o,["style","country_property","content"]),href:this.getConf(o,"link"),i13nModel:this.getI13n(o,"logo")},n(1).createElement("b",{className:"Hidden"},r)))):"property"===e?(s("_getNodeLogo","template","property"),i=n(1).createElement("div",null,n(1).createElement("style",null,n(1778).mediaBackgroundImage(this._getIdSelectorWithParentPrefix("uh-logo"),this.getClassName(o,["style","property","image_1x"]),this.getClassName(o,["style","property","image_2x"]))),this._getNodeLightweight(),n(1).createElement(n(20).I13nAnchor,{id:"uh-logo",className:this.getClassName(o,["style","property","content"]),href:this.getConf(o,"link"),i13nModel:this.getI13n(o,"logo")},n(1).createElement("b",{className:"Hidden"},r)))):(s("_getNodeLogo","template","yahoo"),i=n(1).createElement("div",null,n(1).createElement("style",null,n(1778).mediaBackgroundImage(this._getIdSelectorWithParentPrefix("uh-logo"),this.getClassName(o,["style","yahoo","image_1x"]),this.getClassName(o,["style","yahoo","image_2x"]))),this._getNodeLightweight(),n(1).createElement(n(20).I13nAnchor,{id:"uh-logo",className:this.getClassName(o,["style","yahoo","content"]),href:this.getConf(o,"link"),i13nModel:this.getI13n(o,"logo")},n(1).createElement("b",{className:"Hidden"},r)))),i):null},getData:function(){return n(5).Map({site:n(1778).getSite(this.context)||this.context.session.dimensions.site})},getInitialState:function(){return this.stores={},this.stores.header=this.getStore(n(1780)),s("getInitialState","data",this.getData()),{data:this.getData()}},onChange:function(){var e=this.getData();s("onChange","data",e),this.mounted&&this.setState({data:e})},componentDidMount:function(){this.mounted=!0},componentWillUnmount:function(){this.mounted=!1},render:function(){return n(1).createElement("div",{className:this.getClassName(o,["style","container","wrapper"]),style:this.getClassName(o,["style","container","inline"])},this._getNodeLogo())}});e.exports=o},2454:function(e,t,n){"use strict";var s=n(1557)("uh:components:mail:Mail"),i={i13n:{mail:{elm:"btn",itc:"0",slk:"mail",subsec:"mail"}},state:{middle_auth:"middle_auth",signed_in:"signed_in",signed_out:"signed_out"}},o=n(3)({contextTypes:{conf:n(0).object.isRequired,session:n(0).object.isRequired,theme:n(0).object.isRequired},displayName:"Mail",mixins:[n(1779),n(33),n(2191),n(56)],statics:{base:["mail"],className:{style:{button:{content:"_getClassNameContent",icon:"_getClassNameIcon",text:"_getClassNameText"}}},i13n:i.i13n,state:i.state,storeListeners:[n(1780),n(90)]},_getClassNameContent:function(){var e=[];return e.push(this.getClassName(o,["style","button","content_1"])),e.push(this.getClassName(o,["style","button","content_2"])),e=n(4)(e),s("_getClassNameContent",e,arguments),e},_getClassNameIcon:function(){var e=this.getClassName(o,["style","button","icon_1"]);return this.state.data.get("hover")&&(e=this.getClassName(o,["style","button","icon_2"])),s("_getClassNameIcon",e,arguments),e},_getClassNameText:function(){var e=this.getClassName(o,["style","button","text_1"]);return this.state.data.get("hover")&&(e=this.getClassName(o,["style","button","text_2"])),s("_getClassNameText",e,arguments),e},_getMetaDataLink:function(){var e,t=this.context.session.dimensions,i=["urls","mail","query"],a=this.getConf(o,["urls","mail"])||n(5).Map();return a=a.mergeDeep({query:{".intl":this.getConf(o,i.concat([".intl"]))||t.intl,".lang":this.getConf(o,i.concat([".lang"]))||t.lang,".partner":this.getConf(o,i.concat([".partner"]))||t.partner,".src":this.getConf(o,i.concat([".src"]))||this._getMetaDataSite()}}).toJS(),e=n(24).format(a),s("_getMetaDataLink",e),e},_getMetaDataSite:function(){var e;return e=this.state.data.get("site"),s("_getMetaDataSite",e,arguments),e},_getMetaDataText:function(){var e=null;return e=this.getIntl("MAIL"),this.context.session&&this.context.session.isCorpUser&&(e=this.getIntl("CORPMAIL")),s("_getMetaDataText",e,arguments),e},_getNodeButton:function(){var e=this.getConf(o,["data","icon","mail"]);return n(1).createElement(n(2190),{id:"uh-mail",className:this.getClassName(o,["style","button","content"]),href:this._getMetaDataLink(),i13nModel:this.getI13n(o,"mail"),hasPanel:this.state.isVisible||this.state.data.get("state")===o.state.signed_out,onHoverPayload:this.getClassName(o,["onHoverI13n"]),style:this.getClassName(o,["style","button","inline"])},n(1).createElement(n(12).Icon,{asset:e.get("asset").toJS(),height:e.get("height")||e.get("size"),width:e.get("width")||e.get("size"),color:this.getClassName(o,["style","button","icon"])}),n(1).createElement("b",{className:this.getClassName(o,["style","button","text"])},this._getMetaDataText()),this._getNodeCount())},_getNodeCount:function(){var e=null;return this.state.data.get("state")!==o.state.signed_out&&this.context.conf.getIn(["ui","mailcount"])&&(e=n(1).createElement(n(2019),{mail:this.context.conf.get("mail")})),e},_getNodePreview:function(){var e=null;return this.state.data.get("state")!==o.state.signed_in&&this.state.data.get("state")!==o.state.middle_auth||!this.context.conf.getIn(["ui","mailpreview"])||(e=n(1).createElement(n(2455),{mail:this.context.conf.get("mail"),hoverState:this.state.data.get("hover")})),e},getData:function(){var e,t=this.stores.user;return e=t.isSignedIn()?o.state.signed_in:t.isRecognized()?o.state.middle_auth:o.state.signed_out,n(5).Map({alias:t.getAlias(),hover:!1,site:n(1778).getSite(this.context)||this.context.session.dimensions.site,state:e})},getInitialState:function(){return this.stores={},this.stores.header=this.getStore(n(1780)),this.stores.user=this.getStore(n(90)),{data:this.getData()}},onChange:function(){var e=this.getData();this.mounted&&(s("onChange","data",e),this.setState({data:e}))},handleMouseEnter:function(e){this.setState({data:this.getData().set("hover",!0)}),this.toggleMenu(e)},handleMouseLeave:function(e){this.setState({data:this.getData().set("hover",!1)}),this.toggleMenu(e)},componentDidMount:function(){this.mounted=!0},componentWillUnmount:function(){this.mounted=!1},render:function(){var e=this.state.data;return s("render","data",e),n(1).createElement("li",{className:this.getClassName(o,["style","button","wrapper"]),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},this._getNodeButton(),this._getNodePreview())}});e.exports=o},2455:function(e,t,n){"use strict";var s=n(3)({displayName:"MailPreview",mixins:[n(1779),n(33)],statics:{base:["mail"],storeListeners:[n(1788)]},propTypes:{mail:n(0).object,hoverState:n(0).bool},getDefaultProps:function(){return{hoverState:!1}},getInitialState:function(){var e=this.props.mail.toJS(),t=e.preview,s=n(384)(t.api),i=e.compose;return this.panelConfig={composeUrl:i.url||"https://mail.yahoo.com/compose",gotoUrl:e.url||"https://mail.yahoo.com",msgUrl:t.urls.message||"https://mrd.mail.yahoo.com/msg?fid=Inbox&src=hp&mid="},this.fetchConfig={url:s,api:e.api,body:t.body,timeout:t.timeout,prefix:t.jsonp.prefix,useCors:this.context.conf.getIn(["mail","useCors"])},this.mailStore=this.getStore(n(1788)),this.fetchInterval=t.fetchInterval,this.lastFetchedTime=null,{mailItems:null}},componentWillReceiveProps:function(e){var t=Date.now();e.hoverState&&t-this.lastFetchedTime>this.fetchInterval&&(this._fetch(),this.lastFetchedTime=t)},shouldComponentUpdate:function(e,t){return null!==t.mailItems||!this.props.hoverState&&e.hoverState},onChange:function(e){var t=this._getMailPreviewFromStore(),n=this._getUnauthorizedUserFromStore();this.setState({mailItems:t,unauthorizedUser:n})},_fetch:function(){this.executeAction(n(1935).getMailPreview,this.fetchConfig)},_getMailPreviewFromStore:function(){return this.mailStore.getMailPreview()},_getUnauthorizedUserFromStore:function(){return this.mailStore.getUnauthorizedUser()},render:function(){return n(1).createElement("div",{id:"uh-mail-preview",className:"Bxsh(customShadowFlyoutMenu) Bgc(menuBgc) Bdrs(4px) Pos(a) End(0) T(40px) W(280px) D(n) uh-menu-open_D(b)"},n(1).createElement(n(2456),{items:this.state.mailItems,unauthorizedUser:this.state.unauthorizedUser,panel:this.panelConfig}))}});e.exports=s},2456:function(e,t,n){"use strict";var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},i=n(3)({displayName:"MailItems",mixins:[n(1779)],statics:{base:["mail"]},render:function(){var e=this,t="",i={elm:"itm",itc:"0",slk:"go-to-mail",subsec:"middle-auth"},o=!0;if(e.props.unauthorizedUser){o=!1;t=n(1).createElement("li",{className:"Ta(c) D(b)"},n(1).createElement(n(20).I13nAnchor,{className:"C(mailLinkHoverColor) C(mailLinkHoverColor):h C(mailLinkHoverColor):v Td(n) Fz(m) Hy(n) Py(16px) D(ib)",href:e.props.panel.gotoUrl,i13nModel:i},e.getIntl("SIGNIN")),e.getIntl("TO_VIEW_MAIL"))}else if(e.props.items&&-1!==e.props.items)o=!1,t=e.props.items.length>0?e.props.items.map(function(t,s){var i,o,a,r,l="";if(t&&t.messageInfo)l=t.messageInfo.from.name,i=t.messageInfo.flags.isRead,o=t.messageInfo.mid,a=t.messageInfo.subject,r=new Date(1e3*t.messageInfo.receivedDate);else{if(!(t&&t.messages&&t.messages.headers&&t.messages.headers.from&&t.messages.headers.date))return null;l=t.messages.headers.from.name||t.messages.messages.headers.from.email,i=t.messages.flags&&t.messages.flags.read?"1":"0",o=t.messages.id,a=t.messages.headers.subject?t.messages.headers.subject:"",r=new Date(1e3*t.messages.headers.date)}var c=n(4)({firstEmail:0===s},"Ta(start)","D(b)"),u=n(4)({"isRead C(textColor)":"1"===i},"D(b)","Px(20px)","Py(15px)","Td(n)","Bgc(#c2dfff):h"),h=n(4)({"Fw(b) C($c-fuji-grey-l)":"0"===i},"D(b)","Fz(13px)","Ell"),m=n(4)({"C($c-fuji-grey-l)":"0"===i},"D(b)","Cl(b)","Ell","Fz(13px)","Pt(4px)"),p=n(4)("Fl(end)","Fz(13px)","C($c-fuji-grey-g)","C($c-fuji-grey-g):h","C($c-fuji-grey-g):v"),g={elm:"itm",itc:"0",slk:"email",subsec:"mail",cpos:s+1};return n(1).createElement("li",{key:s,className:c},n(1).createElement(n(20).I13nAnchor,{className:u,href:e.props.panel.msgUrl+o,i13nModel:g},n(1).createElement("div",null,n(1).createElement("div",{className:p},n(1).createElement(n(17).FormattedRelative,{value:r})),n(1).createElement("div",{className:h},l)),n(1).createElement("div",{className:m},a)))}):n(1).createElement("li",{className:"Ta(c) D(b)"},n(1).createElement("div",{className:"Fz(m) Hy(n) P(10px)"},e.getIntl("HAVE_NO_NEW_MESSAGES")));else if(e.props.items&&-1===e.props.items){o=!1;t=n(1).createElement("li",{className:"Ta(c) D(b)"},n(1).createElement(n(20).I13nAnchor,{className:"C($c-fuji-grey-l) C(mailLinkHoverColor):h C($c-fuji-grey-l):v Td(n) Fz(m) Hy(n) P(10px)",href:e.props.panel.gotoUrl,i13nModel:i},n(1).createElement("div",null,e.getIntl("UNABLE_TO_PREVIEW_MAIL"))))}var a=n(4)({"D(n)":!1===o},"P(10px)","Ti(-9999px)","Bg(uhSpinner)","H(17px)"),r=n(4)({"D(n)":!0===o},"Pos(r)","W(100%)","My(0)","Td(n)");return n(1).createElement("div",null,n(1).createElement("div",{className:a}),n(1).createElement("ul",{className:r},t,!e.props.unauthorizedUser&&n(1).createElement("li",{className:"Lh(57px) Bdtw(1px) Bdts(s) Bdtc(#e0e0e4) Bgc(#f9f9f9)"},n(1).createElement(n(20).I13nAnchor,{id:"uh-mail-compose",className:"uh-mail-compose Mend(16px) C($c-fuji-grey-l) C(mailLinkHoverColor):h C($c-fuji-grey-l):v Fz(13px) Fl(end) Fz(s) Td(n)",href:e.props.panel.composeUrl,i13nModel:{elm:"btn",itc:"0",slk:"compose",subsec:"mail"}},n(1).createElement(n(12).Icon,s({asset:n(2457),height:"24",width:"24",color:"#000"},{style:{verticalAlign:"middle"},className:"uh-mail-compose:h_Fill(mailLinkHoverColor) uh-mail-compose:h_Stk(mailLinkHoverColor)"})),n(1).createElement("b",{className:"Mstart(5px)"},e.getIntl("COMPOSE"))),n(1).createElement(n(20).I13nAnchor,{id:"uh-mail-goto",className:"Mstart(16px) C($c-fuji-grey-l) C(mailLinkHoverColor):h C($c-fuji-grey-l):v Fz(13px) D(ib) Fz(s) Ta(start) Td(n)",href:e.props.panel.gotoUrl,i13nModel:{elm:"btn",itc:"0",slk:"go-to-mail",subsec:"mail"}},e.getIntl("GO_TO_MAIL")))))}});e.exports=i},2457:function(e,t){if(void 0===n)var n={};n.ActionCompose={name:"ActionCompose",height:96,width:96,path:"M90.477 33.3L61.347 4.173c-1.56-1.562-4.093-1.562-5.655 0L5.522 54.34c-.75.75-1.17 1.766-1.17 2.828v29.13c0 2.206 1.788 4 4 4H37.48c1.062 0 2.078-.423 2.828-1.173l50.168-50.168c.75-.75 1.172-1.77 1.172-2.828 0-1.064-.42-2.08-1.17-2.83zM35.824 82.298H23.777L12.352 70.875v-12.05l30.516-30.517 23.472 23.47-30.516 30.52zM71.996 46.12L48.523 22.653l9.996-9.996L81.99 36.13l-9.996 9.99z"},void 0!==e&&e.exports&&(e.exports=n.ActionCompose)},2458:function(e,t,n){"use strict";var s=n(3)({contextTypes:{beacon:n(0).func.isRequired,conf:n(0).object.isRequired,i13n:n(0).object,subscriptionHelper:n(0).object},displayName:"Notifications",mixins:[n(1779),n(2191)],statics:{base:["notifications"],i13n:{notifications:{elm:"btn",itc:"1",slk:"notifications",sec:"hd",subsec:"notifications-badge"}}},getInitialState:function(){return{}},componentDidMount:function(){this.rapidInstance=n(93).RapidManager&&n(93).RapidManager.getRapidInstance(),this.rapidInstance&&this.rapidInstance.addModules&&this.rapidInstance.addModules("uh-notifications",0),this.initNotificationClient()},componentWillMount:function(){this.handleRefreshPanel=n(1778).debounce(this.handleRefreshPanel,200)},componentWillUnmount:function(){this.refreshPanelInterval&&clearInterval(this.refreshPanelInterval)},shouldComponentUpdate:function(e,t){return t.isVisible!==this.state.isVisible},initNotificationClient:function(){var e=this.context.conf&&this.context.conf.get("notifications"),t=e&&e.get("notificationClient").toJS();if(t.enabled&&"false"!==t.enabled){t.badge=t.badge||{},t.service=t.service||{},t.panel=t.panel||{},t.badge.selector="#yns-uh-badge";var s=window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");t.service.url=s+(t.historyServicePath||""),t.panel.parentSelector="#yns-notif-panel-container",t.panel.headerMsg=this.getIntl("NOTIFICATIONS")||"",t.panel.notificationCenterNavMsg=this.context.intl.formatMessage({id:"NOTIFICATION_CENTER_NAV_MSG"},{newCount:"{newCount}"})||"",t.panel.errorMsg=this.getIntl("PLEASE_CHECK_BACK_LATER")||"",t.panel.emptyPanelMsg=this.getIntl("NO_NEW_NOTIFICATIONS")||"";var i=e.get("hasNotificationCenterLink");if(i&&"false"!==i||(t.panel.notificationCenterPath=null),n(2244).NotificationClient&&!this.notificationClient&&(this.notificationClient=new(n(2244).NotificationClient)(t),this.notificationClient&&this.notificationClient.helpers&&(this.handleRefreshPanel(!0),e.get("polling")))){var o=1e3*e.get("pollingInterval")||3e5;this.refreshPanelInterval=setInterval(this.handleRefreshPanel,o,!0)}this.notificationClient&&this.notificationClient.helpers||this.context.beacon("error","bell_notif",{code:"initializeFail",msg:this.notificationClient?"Validation Failure":"Instantiation Failure"})}},handleRefreshPanel:function(e){var t=this,i=t.getConf(s,["notificationClient","badge","hideClass"]);if(t.notificationClient){var o=n(1778).getNotifTimestampSubcookie();0===o&&n(1778).setBackoffSubcookie("lnct"),t.notificationClient.helpers.refreshPanelNode({matrixParams:{lastUpdate:o}},function(s,o){if(s)t.context.beacon("error","bell_notif",{code:"refreshFail",msg:s&&s.message});else if(e){var a=t.refs.badgeCount;if(a&&a.className.indexOf(i)<0){var r={beaconType:"beaconLinkViews",arguments:[{sec:"hd",_links:[{elm:"btn",slk:"notification",subsec:"notification-badge",cat:a.innerText}]},2]};t.context.i13n.executeEvent("beacon",r)}}else t.resetPanelAccessibility(),n(1778).setBackoffSubcookie("lnct"),t.rapidInstance&&t.rapidInstance.refreshModule&&t.rapidInstance.refreshModule("uh-notifications",2),t.notificationClient.helpers.resetBadge()})}},handleMouseEnter:function(e){this.notificationClient&&this.notificationClient.helpers&&!this.state.isVisible&&this.handleRefreshPanel(),this.toggleMenu(e)},handleMouseLeave:function(e){this.toggleMenu(e)},resetPanelAccessibility:function(){var e=this.getConf(s,["notificationClient","panel","maxCount"])||0,t=window&&n(2)(window,["document","body","className"],""),i=this.refs.notifPanelContainer.querySelectorAll(".yns-container"),o=i.length;t.indexOf("display-push-promos")<0&&(e+=1);for(var a=e;a<o;a++)i[a].style.display="none"},render:function(){var e=this.getConf(s,["data","icon"]),t=n(1).createElement(n(2245),{id:"yns-uh-bell",i13nModel:this.getI13n(s,"notifications"),hoverI13Params:this.getI13n(s,"notifications"),hasPanel:this.state.isVisible,"aria-label":this.getIntl("NOTIFICATIONS"),className:"Pos(r)"},n(1).createElement(n(12).Icon,{asset:e.get("asset").toJS(),height:e.get("size"),width:e.get("size"),color:this.getClassName(s,["style","button","icon"])}),n(1).createElement("span",{id:"yns-uh-badge",ref:"badgeCount",className:this.getClassName(s,["style","notificationsCount","wrapper_1"])}));return n(1).createElement("li",{className:this.getClassName(s,["style","button","wrapper"]),onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter,onFocus:this.handleMouseEnter,onBlur:this.handleMouseLeave,id:"uh-notifications"},t,n(1).createElement("div",{id:"yns-notif-panel-container",ref:"notifPanelContainer",className:"Bxsh(customShadowFlyoutMenu) Bgc(menuBgc) Bdrs(4px) Pos(a) End(0) T(40px) W(380px) D(n) uh-menu-open_D(b) Mah(470px) Ov(h)"}))}});e.exports=s},2459:function(e,t,n){"use strict";var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(){function e(e,t){for(var n,s=0;s<t.length;s++)(n=t[s]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),a=function(){function e(t){i(this,e),this._config=t}return o(e,[{key:"_getRequestUrl",value:function(e){var t=e.url||this._config.service.url;if(t){var n=t.split("?"),s={path:n[0],queryParams:n[1]?n[1].split("&"):[]};n=s.path.split(";"),s.path=n[0],s.matrixParams=n.slice(1);var i=e.queryParams,o=e.matrixParams;o&&Object.keys(o).forEach(function(e){s.matrixParams.push(encodeURIComponent(e)+"="+encodeURIComponent(o[e]||""))}),i&&Object.keys(i).forEach(function(e){s.queryParams.push(encodeURIComponent(e)+"="+encodeURIComponent(i[e]||""))});var a=s.path;return s.matrixParams.length&&(a+=";"+s.matrixParams.join(";")),s.queryParams.length&&(a+="?"+s.queryParams.join("&")),a}}},{key:"_getRequestBody",value:function(e){return e&&JSON.stringify(e)||""}},{key:"_parseRequestResult",value:function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){e={}}return{css:(e=e||{}).css,count:e.count,markup:e.html,newCount:e.newCount}}},{key:"read",value:function(e,t){this._attemptRequest("GET",e,t)}},{key:"update",value:function(e,t){this._attemptRequest("PUT",e,t)}},{key:"create",value:function(e,t){this._attemptRequest("POST",e,t)}},{key:"_attemptRequest",value:function(e,t,n){var s=this._config.service.attemptCount;t||(t={});var i=this._getRequestUrl(t),o=this._getRequestBody(t.body);this._sendRequest({body:o,method:e,url:i},s,n)}},{key:"_sendRequest",value:function(e,t,n){var s=this;e=e||{};var i=s._config.service,o=1e3*i.attemptDelay,a=e,r=a.url,l=a.body,c=new XMLHttpRequest;c.open(e.method,r),c.responseType=i.responseType,c.timeout=i.timeout;var u=function(){0<t?(t--,setTimeout(function(){s._sendRequest(e,t,n)},o)):n&&n(new Error("Error: "+c.status+" "+c.statusText),null)};c.onload=function(){if(200===c.status){var t=s._parseRequestResult(c.response||c.responseText);n&&n(null,t,e)}else u()},c.onerror=u,"GET"===e.method?c.send():c.send(l)}}]),e}(),r=" ";function l(e,t){if(e&&!function(e,t){var n=e&&e.className&&e.className.split(r);return!!n&&-1!==n.indexOf(t)}(e,t)){var n=e.className+r+t;e.className=n}}function c(e,t){if(e){var n=e.className&&e.className.split(r);if(n){var s=n.indexOf(t);0<=s&&n.splice(s,1),e.className=n.join(r)}}}function u(e,t){if(e){if(!t)return e;for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}}var h=function(){function e(t,n){i(this,e);var s=this;s._config=t,s._markup="",s._newCount,s._count,s._request=n}return o(e,[{key:"_replaceAllNotifications",value:function(e){this._markup=e.markup||"",this._newCount=e.newCount&&parseInt(e.newCount,10)||0,this._count=e.count&&parseInt(e.count,10)||0}},{key:"resetNewCount",value:function(){this._newCount=0}},{key:"_requestNotifications",value:function(e,t){var n=this,s=n._config.panel,i={count:s.maxCount,imageTag:s.imageTag};e||(e={}),u(i,e.matrixParams),n._request.read({matrixParams:i},function(e,s){!e&&s&&n._replaceAllNotifications(s),s=s||{},t&&t(e,s)})}},{key:"getNotifications",value:function(){return{count:this._count,markup:this._markup,newCount:this._newCount}}},{key:"fetchNotifications",value:function(e,t){this._requestNotifications(e,t)}}]),e}(),m="yns-panel-loading",p="yns-panel",g="yns-hide",d="yns-panel-padding-btm",f=function(){function e(t,n){i(this,e);var s=this;s._config=t,s._panelNode=null,s._store=n}return o(e,[{key:"_generatePanelMarkup",value:function(e,t){var n,s=this._config,i=s.promos.enableNotifOnboard?'<li class="yns-container yns-promo"><div class="yns-link"><img class="yns-img" src="https://s.yimg.com/cv/ae/notifications/Y-Notif-Panel.png" /><div class="yns-content"><span class="yns-promo-title yns-title">Get Breaking News alerts on your desktop</span><span class="yns-promo-button"><button class="yns-promo-ctr js-push-subscribe" data-subscription-topic="gondor_homerun_news" data-ylk="sec:hd;subsec:follow-promo;" data-subscription-ylk="sec:hd;subsec:follow-promo;" >Notify Me</button></span></div></div></li>':"",o=t.newCount>s.panel.maxCount?t.newCount:"",a=s.panel.notificationCenterPath,r=a?"":g,l=a?d:"";return n=t.count?t.markup:'<li class="yns-container yns-empty"><div class="yns-content">{emptyPanelMsg}</div></li>'.replace("{emptyPanelMsg}",s.panel.emptyPanelMsg),e=e.replace("{notifMarkup}",n).replace("{promoMarkup}",i).replace("{hideClass}",r).replace("{notifCenterLink}",a).replace("{paddingClass}",l).replace("{headerMsg}",s.panel.headerMsg).replace("{notificationCenterNavMsg}",s.panel.notificationCenterNavMsg).replace("{newCount}",o)}},{key:"render",value:function(e,t){var n=this;if(n._panelNode){var s,i,o,a=n._panelNode;switch(e){case"expanded_panel":s='<div class="yns-panel-header"><span class="yns-panel-header-title">{headerMsg}</span></div><div class="yns-panel-data"><ul class="yns-notifications {paddingClass}">{promoMarkup}{notifMarkup}</ul></div><div class="yns-panel-footer-action {hideClass}"><a class="yns-navigate-center" href="{notifCenterLink}" data-ylk="sec:hd;subsec:follow-viewall;">{notificationCenterNavMsg}</a></div>',o=n._store.getNotifications(),i=n._generatePanelMarkup(s,o),a.innerHTML=i;break;case"error_panel":i=(s='<div class="yns-panel-error"><span> {errorMsg} </span></div>').replace("{errorMsg}",n._config.panel.errorMsg),a.innerHTML=i}t&&t()}else t&&t(new Error("No panel parent"))}},{key:"createPanelParentNode",value:function(e){e&&(e.innerHTML='<div class="yns-panel" id="yns-panel"></div>',this._panelNode=document.getElementById(p))}},{key:"updateBadgeNode",value:function(e){if(e){var t=this._store.getNotifications().newCount,n=this._config.badge.maxCount;if(t){var s=t>n?n+"+":t;e.innerHTML=s}else e.innerHTML=""}}},{key:"addStyles",value:function(e){if(e&&"undefined"!=typeof window){var t=document.getElementById(this._config.panel.styleTagId);t||((t=document.createElement("style")).type="text/css",t.id=this._config.panel.styleTagId,t.innerText=e,document.head.appendChild(t))}}}]),e}(),_=function(){function e(t,n,s){i(this,e);var o=this;o._store=n,o._view=s,o._config=t,o._panelParentNode=document.querySelector(o._config.panel.parentSelector),o._badgeNode=o._config.badge.selector&&document.querySelector(o._config.badge.selector)}return o(e,[{key:"createPanelParentNode",value:function(){this._view.createPanelParentNode(this._panelParentNode),this._notifPanelNode=document.getElementById(p)}},{key:"refreshPanelNode",value:function(e,t){var n=this;l(n._notifPanelNode,m),n._store.fetchNotifications(e,function(e,s){e?!n._notifPanelNode.innerHTML&&(n._view.render("error_panel"),l(n._notifPanelNode,m)):(n._view.render("expanded_panel"),n._view.updateBadgeNode(n._badgeNode),n._showBadge(),n._view.addStyles(s.css)),c(n._notifPanelNode,m),t&&t(e,s)})}},{key:"resetBadge",value:function(){var e=this;e._store.resetNewCount(),e._view.updateBadgeNode(e._badgeNode),l(e._badgeNode,e._config.badge.hideClass)}},{key:"_showBadge",value:function(){var e=this;e._store.getNotifications().newCount?c(e._badgeNode,e._config.badge.hideClass):l(e._badgeNode,e._config.badge.hideClass)}}]),e}(),C={promos:{enableNotifOnboard:!0},badge:{selector:"",hideClass:"",maxCount:5},panel:{emptyPanelMsg:"You have no new notifications.",errorMsg:"",headerMsg:"Notifications",imageTag:"img:40x40|2|80",maxCount:6,notificationCenterNavMsg:"View all {newCount} notifications",notificationCenterPath:"",styleTagId:"notificationStyles",parentSelector:null},service:{attemptCount:2,attemptDelay:1,url:null,responseType:"json",timeout:1500}},b=function(){function e(t){i(this,e);var n=this;n.config=n._parseConfig(t),n._validateRequiredConfigs()&&(n._request=new a(n.config),n._store=new h(n.config,n._request),n._view=new f(n.config,n._store),n._panelController=new _(n.config,n._store,n._view),n._panelController.createPanelParentNode(),n._assignHelperMethods())}return o(e,[{key:"_parseConfig",value:function(e){var t={};for(var n in u(t,C),t)if(t.hasOwnProperty(n)){var i=t[n],o=e[n];"object"===(void 0===i?"undefined":s(i))?u(i,o):t[n]=e[n]}return t}},{key:"_validateRequiredConfigs",value:function(){var e=this.config;return!(!e.panel.parentSelector||!e.service.url)}},{key:"_assignHelperMethods",value:function(){var e=this;e.helpers={refreshPanelNode:e._panelController.refreshPanelNode.bind(e._panelController),resetBadge:e._panelController.resetBadge.bind(e._panelController)}}}]),e}();e.exports=b},2460:function(e,t,n){"use strict";var s=n(1557)("uh:components:profile:Profile"),i={get:n(43)},o=n(3)({displayName:"Profile",mixins:[n(33)],statics:{storeListeners:[n(1780),n(369),n(90)],state:{middle_auth:"middle_auth",signed_in:"signed_in",signed_out:"signed_out"}},propTypes:{triggerAccountFetch:n(0).func,extraAccountInfoComponent:n(0).oneOfType([n(0).node,n(0).func,n(0).object]),componentProps:n(0).object},contextTypes:{conf:n(0).object.isRequired,session:n(0).object.isRequired},getConf:function(e){var t=this.context.conf.get("profile"),n=null;switch(e){case"mode":n=t.get("mode");break;case"defaultImg":n=t.get("defaultImg");break;case"authStateCheck":n=t.get("authStateCheck")}return n},getData:function(){var e,t=this.stores.profile,s=this.stores.route,i=this.stores.user,a=s&&s.getCurrentNavigate(),r=this.context.session,l=i&&i.getFirstName()||t&&t.getProfile().nickName;e=n(1778).getPageUrl(a,r.host,r.protocol);var c,u=t&&this.validateImage(t.getProfile().imageUrl)||this.getConf("defaultImg")||null;return c=i.isSignedIn()?o.state.signed_in:i.isRecognized()?o.state.middle_auth:o.state.signed_out,n(5).Map({alias:i.getAlias(),first_name:l,guid:i.getGUID(),image:u,page_url:e,site:n(1778).getSite(this.context)||this.context.session.dimensions.site,state:c,yid:i.getLogin()})},validateImage:function(e){return e&&!/(profile_|39361574426_98028a_)/.test(e)?e:null},getInitialState:function(){return this.stores={},this.stores.header=this.getStore(n(1780)),this.stores.profile=this.getStore(n(369)),this.stores.route=this.getStore("RouteStore"),this.stores.user=this.getStore(n(90)),"client"!==this.getConf("mode")&&this.stores.user.isLoaded()&&(this.stores.profile.isLoaded()||this.stores.profile.err)?{data:this.getData()}:{data:n(5).Map()}},componentDidMount:function(){s("componentDidMount","data",this.getData()),this.mounted=!0,"client"===this.getConf("mode")&&(this.stores.profile.isLoaded()?this.setState({data:this.getData()}):this.executeAction(n(1909),this.props))},componentWillUnmount:function(){this.mounted=!1},onChange:function(){var e=this.getData();this.mounted&&(s("onChange","data",e),e.state===o.state.signed_in?this.stores.profile.isLoaded()&&this.setState({data:e}):this.setState({data:e}))},render:function(){var e=i.get(this.context.session,"dimensions.authed",!1);if(this.context.session.isFailsafe)return null;var t=null,a=this.state.data;if(s("render","data",a),a.isEmpty())t="client"===this.getConf("mode")&&n(1778).isEnabled(this.getConf("authStateCheck"))&&"0"===e?n(1).createElement(n(2192),{data:a}):n(1).createElement(n(2461),null);else switch(a.get("state")){case o.state.middle_auth:t=n(1).createElement(n(2462),{data:a,componentProps:this.props.componentProps});break;case o.state.signed_in:t=n(1).createElement(n(2246),{triggerAccountFetch:this.props.triggerAccountFetch,extraAccountInfoComponent:this.props.extraAccountInfoComponent,data:a});break;case o.state.signed_out:t=n(1).createElement(n(2192),{data:a})}return t}});e.exports=o},2461:function(e,t,n){"use strict";var s=n(1557)("uh:components:profile:NullProfile"),i=n(3)({contextTypes:{conf:n(0).object.isRequired,session:n(0).object.isRequired,theme:n(0).object.isRequired},displayName:"NullProfile",mixins:[n(1779),n(56)],statics:{base:["profile"],className:{style:{button:{wrapper:"_getClassNameWrapper"}}}},_getClassNameWrapper:function(){var e=[];return e.push(this.getTheme(i,["style","button","wrapper"])),e.push("V(h)"),e=0!==e.length?n(4)(e):null,s("_getClassNameWrapper",e,arguments),e},render:function(){return n(1).createElement("li",{className:this.getClassName(i,["style","button","wrapper"])},n(1).createElement(n(12).Icon,{asset:n(677),height:"34",width:"34",color:"#400090"}))}});e.exports=i},2462:function(e,t,n){"use strict";var s=n(3)({displayName:"MiddleAuthProfile",mixins:[n(56)],propTypes:{data:n(0).object.isRequired,componentProps:n(0).object},render:function(){var e=this.props.data;return n(2)(this,["props","componentProps","componentConfig","uh","ui","middleAuthSignedOut"],!1)?n(1).createElement(n(2192),{data:e}):n(1).createElement(n(2246),{data:e})}});e.exports=s},2463:function(e,t,n){"use strict";var s=n(1557)("uh:components:search:Search"),i=n(3)({displayName:"Search",mixins:[n(33)],contextTypes:{session:n(0).object.isRequired},propTypes:{enableFocusBeacon:n(0).bool,footerTemplateComponent:n(0).node,onSubmit:n(0).func,resultTemplateComponent:n(0).oneOfType([n(0).node,n(0).func,n(0).object]),showFooter:n(0).bool,searchComponent:n(0).oneOfType([n(0).node,n(0).func,n(0).object])},statics:{storeListeners:[n(1780)]},getData:function(){var e=this.context.session.dimensions,t=n(5).Map({bucket:e.bucket,device:e.device,enable_focus_beacon:this.props.enableFocusBeacon,footer_component:this.props.footerTemplateComponent,handle_submit:this.props.onSubmit,lang:e.lang,partner:e.partner,placeholder:" ",region:e.region,show_footer:this.props.showFooter,site:n(1778).getSite(this.context)||e.site,template_component:this.props.resultTemplateComponent});return s("getData","data",t),t},getInitialState:function(){return this.stores={},this.stores.header=this.getStore(n(1780)),s("getInitialState","this.stores.header.getState()",this.stores.header.getState()),{data:this.getData()}},componentDidMount:function(){this.mounted=!0},componentWillUnmount:function(){this.mounted=!1},onChange:function(){var e=this.getData();s("onChange","data",e),this.mounted&&this.setState({data:e})},render:function(){var e=this.state.data;s("render","data",e);var t=this.props.searchComponent||n(2020);return n(1).createElement(t,{data:e})}});e.exports=i},2464:function(e,t,n){"use strict";var s={cloneDeep:n(258),isEqual:n(191)},i=n(1557)("uh:components:nav/Topbar"),o=n(3)({autobind:!1,contextTypes:{conf:n(0).object.isRequired,session:n(0).object.isRequired},displayName:"Topbar",mixins:[n(1779),n(33)],propTypes:{data:n(0).object},statics:{base:["topbar"],storeListeners:["RouteStore"]},_formatItem:function(e,t){var s,o=e,a=o.url;return this._isForceAbsolute(t)||(a=n(654).convertUrl(a,this._getSite())),s={id:t,name:this._formatTitle(t,o.name),order:e.order,url:a,follow:this._isFollow(a)},i("_formatItem",o,s),s},_formatTitle:function(e,t){return t},_getData:function(e,t){var n;e=s.cloneDeep(e);var i,a=this.getConf(o,["data","more"]),r=[];if(a<=0||0===e.length)return[];"home"===t?(e=e[0].children,i=1):"main"===t?(e=e.slice(0,a),i=1):"more"===t&&(e=e.slice(a),i=a+1);for(var l=0;l<e.length;l++)(n=e[l]).children=void 0,n.order=i,i++,n=this._formatItem(n,n.id),r.push(n);return r},_getSite:function(){return this.context.session.dimensions.site},_handleClick:function(e,t){var n=this.state.data,o=s.cloneDeep(n);Object.keys(n.is_open).map(function(e){o.is_open[e]=t===e&&!n.is_open[e]}),this.currentTarget=e.currentTarget,this._addBodyClick(t),i("_handleClick","name",t),i("_handleClick","prev",n),i("_handleClick","next",o),s.isEqual(n,o)||this.setState({data:o})},_addBodyClick:function(e){this.bodyClickHandler?this._removeBodyClick():this.bodyClickHandler=n(204).listen(document,"click",function(t){if(!this.currentTarget.contains(t.target)){var n=this.currentTarget.nextSibling,s=this.state.data;n.contains(t.target)||(s.is_open[e]=!1,this.setState({data:s}),this._removeBodyClick())}}.bind(this))},_removeBodyClick:function(){this.bodyClickHandler&&(this.bodyClickHandler.remove(),this.bodyClickHandler=null)},_isAbsolute:function(e){var t=n(24).parse(e);return!t||null!==t.hostname},_isFollow:function(e){var t=n(24).parse(e);return!!n(1778).isEnabled(this.getConf(o,["data","force_absolute_all"]))||(!t||null!==t.hostname)&&(!t||t.hostname!==this.context.session.host)},_isForceAbsolute:function(e){if(n(1778).isEnabled(this.getConf(o,["data","force_absolute_all"])))return!0;var t=this.getConf(o,["data","force_absolute"]);return!(!t.has(e)||!t.get(e))},_getConfLink:function(){var e=this.context.session,t={protocol:["de","es","e1","cf","fr","it","br"].indexOf(e.dimensions.intl)>=0?"http":e.protocol,host:e.dimensions.intl+".everything.yahoo.com/"};return"cf"===e.dimensions.intl&&(t.host="fr-ca.sites.yahoo.com/"),"e1"===e.dimensions.intl&&(t.host="es-us.sitios.yahoo.com/"),"xe"===e.dimensions.intl&&(t.host="en-maktoob.everything.yahoo.com/"),"us"===e.dimensions.intl&&(t.host="everything.yahoo.com/"),n(24).format(t)},_processMainItems:function(e,t){return t.length>0&&e.push(this._formatItem({url:this._getConfLink(),order:e.length+t.length+1,name:this.getIntl(this.getConf(o,["data","more_item","title"]).toUpperCase())},"more")),e},getData:function(){var e=this.stores.nav,t=this.props.data&&this.props.data.items||e.getItems(),n=this._getData(t,"more"),s={home:this._getData(t,"home"),more:n,main:this._processMainItems(this._getData(t,"main"),n),is_open:{home:!1,more:!1},homeSwitcher:this.getConf(o,["data","homeSwitcher"])};return i("getData",s),s},getInitialState:function(){return this.stores={},this.stores.nav=this.getStore(n(1936)),this.stores.route=this.getStore("RouteStore"),i("getInitialState","this.stores.nav.getState()",this.stores.nav.getState()),{data:this.getData()}},onChange:function(){if(this.mounted){var e=this.getData();i("onChange","data",e),this.setState({data:e})}},componentDidMount:function(){this.mounted=!0},componentWillMount:function(){this._handleClick=this._handleClick.bind(this),this.onChange=this.onChange.bind(this)},componentWillUnmount:function(){this.mounted=!1,this._removeBodyClick()},render:function(){var e=this.state.data,t={click:this._handleClick};return i("render","data",e),n(1).createElement(n(2465),{data:e,methods:t})}});e.exports=o},2465:function(e,t,n){"use strict";var s=n(1557)("uh:components:nav/TopbarItems"),i=Object.assign,o=n(3)({contextTypes:{conf:n(0).object.isRequired,getStore:n(0).func,session:n(0).object.isRequired,theme:n(0).object.isRequired},getDefaultProps:function(){return{data:{home:[],main:[],more:[],is_open:{home:!1,more:!1},homeSwitcher:{enabled:!1,link:"https://www.yahoo.com/?p=dnr",title:"Back to Yahoo.com"}},methods:{click:function(){}}}},getInitialState:function(){return{showSwitcher:!1}},displayName:"TopbarItems",mixins:[n(1779),n(56)],propTypes:{data:n(0).object.isRequired,methods:n(0).object.isRequired},statics:{base:["topbar"],className:{style:{nav_main:{wrapper:"_getClassNameWrapper",content:"_getClassNameContent"}}},node:{nav_home:"_getNodeNavHome",nav_main:"_getNodeNavMain",nav_more:"_getNodeNavMore",nav_switcher:"_getNodeHomeSwitcher"}},_getClassNameLinkHomeIconHomeStyle:function(e){var t=null,n=["style","nav_main","link_home","icon","home"];return(t=this.getClassName(o,n.concat(["inline"])))&&(t=i(t,e?{fill:this.getClassName(o,n.concat(["color_2"]))}:{fill:this.getClassName(o,n.concat(["color_1"]))})),s("_getClassNameLinkHomeIconHomeStyle",t,arguments),t},_getClassNameLinkHomeContent:function(e){var t=[],i=["style","nav_main","link_home"];return t.push(this.getClassName(o,i.concat(["content_1"]))),e&&t.push(this.getClassName(o,i.concat(["content_2"]))),t=n(4)(t),s("_getClassNameLinkHomeContent",t,arguments),t},_getClassNameLinkHomeWrapper:function(e){var t=[],i=["style","nav_main","link_home"];return t.push(this.getClassName(o,i.concat(["wrapper_1"]))),e&&t.push(this.getClassName(o,i.concat(["wrapper_2"]))),t.push(this.getClassName(o,i.concat(["wrapper_3"]))),t=n(4)(t),s("_getClassNameLinkHomeWrapper",t,arguments),t},_getClassNameWrapper:function(){var e=[];return e.push(this.getClassName(o,["style","nav_main","wrapper_1"])),e.push(this.getClassName(o,["style","nav_main","wrapper_2"])),e=n(4)(e),s("_getClassNameNavMainWrapper",e,arguments),e},_getClassNameContent:function(){var e=[];return e.push(this.getClassName(o,["style","nav_main","content_1"])),e.push(this.getClassName(o,["style","nav_main","content_2"])),e.push(this.getClassName(o,["style","nav_main","content_3"])),e=n(4)(e),s("_getClassNameNavMainContent",e,arguments),e},_getNodeHomeSwitcher:function(){var e=null,t=this.context&&this.context.getStore("RouteStore"),s=t&&t.getCurrentNavigate(),i=this.props.data.homeSwitcher,o=i&&n(1778).isEnabled(i.get("enabled")),a=Object.assign({},{subsec:"uh",slk:"Back to Yahoo.com",cpos:0});return o&&s&&s.url&&s.url.indexOf("p=us")>-1&&(e=n(1).createElement("li",{className:"Pos(a) Lh(1.7) End(0) D(ib) Mend(18px) Pstart(14px) D(n)--sm1024"},n(1).createElement(n(20).I13nAnchor,{href:i.get("link"),i13nModel:a,className:"C(#fff) Pstart(4px) Td(n)! Td(u)!:h Fz(13px)"},i.get("title")))),e},_getNodeNavHome:function(e,t){var s={group:"main",icon:!0,index:t,item:e},i=this._getItems("home"),o=this.props.methods||{};return o.getClassNameLinkHomeIconHomeStyle=this._getClassNameLinkHomeIconHomeStyle,o.getClassNameLinkHomeContent=this._getClassNameLinkHomeContent,o.getClassNameLinkHomeWrapper=this._getClassNameLinkHomeWrapper,0===i.length?n(1).createElement(n(2053),{key:e.id,data:s,methods:o}):(s.is_open=this.props.data.is_open.home,n(1).createElement(n(2247),{key:e.id,data:s,methods:o},i))},_getNodeNavMain:function(){var e=this._getItems("main");return 0===e.length?null:e.map(function(e,t){if("home"===e.id)return this._getNodeNavHome(e,t);if("more"===e.id)return this._getNodeNavMore(e,t);var s={key:e.id,data:{group:"main",item:e,index:t}};return n(1).createElement(n(2053),s)}.bind(this))},_getNodeNavMore:function(e,t){var s={group:"main",index:t,item:e},i=this._getItems("more"),o=this.props.methods;return o.getClassNameLinkHomeIconHomeStyle=this._getClassNameLinkHomeIconHomeStyle,o.getClassNameLinkHomeContent=this._getClassNameLinkHomeContent,o.getClassNameLinkHomeWrapper=this._getClassNameLinkHomeWrapper,0===i.length?n(1).createElement(n(2053),{key:e.id,data:s,methods:o}):(s.is_open=this.props.data.is_open.more,n(1).createElement(n(2247),{key:e.id,data:s,methods:o},i))},_getItems:function(e){var t=this.props.data[e];return s("_getItems","items",e,t),t},_getPromo:function(){return n(1778).isEnabled(this.context.conf.getIn(["ui","topbarPromo"],!1))?n(1).createElement("li",{id:"uh-tb-firefoxpromo",className:"Pos(a) Lh(1.7) End(0) D(ib) Pend(14px) Mend(0) D(n)--md1160"},n(1).createElement("a",{className:"C(#fff) Pstart(78px) Td(n)! Td(u)!:h Fz(13px)",href:this.context.conf.getIn(["topbar","promo","link"],!1),target:"_blank",rel:"noopener noreferrer"},n(1).createElement("img",{className:"Pend(4px) Va(m)",src:this.context.conf.getIn(["topbar","promo","icon"]),width:"13",height:"13",alt:this.context.conf.getIn(["topbar","promo","iconAlt"])}),n(1).createElement("span",{className:"Va(m)",dangerouslySetInnerHTML:{__html:this.context.conf.getIn(["topbar","promo","text"])}}),n(1).createElement("span",{className:"Va(m)",dangerouslySetInnerHTML:{__html:"&nbsp;&raquo;"}}))):n(1).createElement(n(2467),null)},render:function(){return n(1).createElement("div",{id:"masterNav",className:this.getClassName(o,["style","nav_main","wrapper"])},n(1).createElement("ul",{id:"eyebrow",role:"navigation",className:this.getClassName(o,["style","nav_main","content"])},this._getNodeNavMain(),this._getNodeHomeSwitcher(),this._getPromo()))}});e.exports=o},2466:function(e,t,n){"use strict";var s=n(1557)("uh:components:nav/TopbarNavDropdownMenu"),i=n(3)({contextTypes:{conf:n(0).object.isRequired,session:n(0).object.isRequired,theme:n(0).object.isRequired},displayName:"TopbarNavDropdownMenu",getDefaultProps:function(){return{data:{group:"main",items:[{id:"home",name:"Home",url:"http://www.yahoo.com",order:-1,follow:!1}]}}},mixins:[n(1779),n(56)],propTypes:{data:n(0).object.isRequired},statics:{base:["topbar"]},_getGroup:function(e,t){return n(1778).strExpand(this.props.data.group,e,t)},_getNodeMenuItems:function(){var e=this.props.data.items;return 0===e.length?null:e.map(function(e,t){var s={key:e.id,data:{group:"more",item:e,index:t}};return n(1).createElement(n(2053),s)}.bind(this))},render:function(){return s("data",this.props.data),n(1).createElement("div",{id:this._getGroup("uh-tb-","-menu")},n(1).createElement("div",{className:this.getClassName(i,["style",this._getGroup("nav_"),"wrapper"]),style:this.getClassName(i,["style",this._getGroup("nav_"),"inline"])},n(1).createElement("ul",{className:this.getClassName(i,["style",this._getGroup("nav_"),"content"])},this._getNodeMenuItems())))}});e.exports=i},2467:function(e,t,n){"use strict";var s={set:n(1609)},i=n(1557)("uh:components:nav/TopbarFFPromo"),o=n(3)({autobind:!1,mixins:[n(33)],contextTypes:{conf:n(0).object.isRequired,executeAction:n(0).func.isRequired,getStore:n(0).func,session:n(0).object.isRequired},displayName:"TopbarFFPromo",statics:{storeListeners:[n(1780)]},_getData:function(){var e={showFFPromo:this.headerStore.getShowFFPromo(),content:null,link:null},t=n(1778).getSite(this.context)||this.context.session.dimensions.site;if(e.showFFPromo)switch(t){case"finance":e.link=["https://www.mozilla.org/firefox/new/?","utm_source=yahoo&utm_medium=referral&","utm_campaign=y-uh&utm_content=y-finance-try"].join(""),e.content="Try Yahoo Finance on Firefox";break;case"news":e.link=["https://www.mozilla.org/firefox/new/?","utm_source=yahoo&utm_medium=referral&","utm_campaign=y-uh&utm_content=y-news-try"].join(""),e.content="Try Yahoo News on Firefox";break;case"sports":e.link=["https://www.mozilla.org/firefox/new/?","utm_source=yahoo&utm_medium=referral&","utm_campaign=y-uh&utm_content=y-sports-try"].join(""),e.content="Try Yahoo Sports on Firefox";break;default:e.link=["https://www.mozilla.org/firefox/new/?","utm_source=yahoo&utm_medium=referral&","utm_campaign=y-uh&utm_content=y-install-new-firefox"].join(""),e.content="Install the new Firefox"}return e},componentWillMount:function(){this.onChange=this.onChange.bind(this)},componentDidMount:function(){if(void 0===this.headerStore.getShowFFPromo()){var e=this.context.conf.get("profile").get("mode")||"server",t={};this.context.conf.get("ui").get("topbarFFPromo")&&(s.set(t,"componentProps.componentConfig.uh.profile.mode",e),s.set(t,"componentProps.componentConfig.uh.ui.topbarFFPromo",!0),this.context.executeAction(n(1934),t))}},getInitialState:function(){return this.headerStore=this.context.getStore(n(1780)),this._getData()},onChange:function(){this.setState(this._getData())},shouldComponentUpdate:function(e,t){var n=this.state;return t.showFFPromo!==n.showFFPromo||t.link!==n.link||t.content!==n.content},render:function(){i("render");var e=this.state,t=null;return e&&e.showFFPromo&&e.link&&e.content&&(t=n(1).createElement("li",{id:"uh-tb-firefoxpromo",className:"Pos(a) Lh(1.7) End(0) D(ib) Mend(18px) Pstart(14px) D(n)--sm1024"},n(1).createElement("a",{className:"C(#fff) Pstart(4px) Td(n)! Td(u)!:h Fz(13px)",href:e.link,target:"_blank",rel:"noopener noreferrer"},n(1).createElement("img",{className:"Pend(4px) Va(m)",src:"https://s.yimg.com/kx/yucs/uh3s/promo-ff/1/images/ff_icon-compressed.png",width:"15",height:"15",alt:"Firefox"}),n(1).createElement("span",null,e.content),n(1).createElement("span",{dangerouslySetInnerHTML:{__html:"&nbsp;&raquo;"}})))),t}});e.exports=o},2468:function(e,t,n){"use strict";var s=n(1778).isClient();e.exports=function(e,t,i){if(s&&t){var o=t||{};if(o.enabled){n(1778).initSubscriptionHelper(e,o);var a=e.subscriptionHelper&&e.subscriptionHelper.getSubscriptionHelper();if(!a)return void(i&&i());setTimeout(function(){a.addPromoButtonDelegator(),a.showPushSubscriptionPromos(),a.checkIsSupportedBrowser()&&(o.enableChurnCheck||o.enableSubsResyncIfError)&&window&&window.Notification&&"granted"===window.Notification.permission&&n(1778).isBackoffTimerExceeded(o.churnCheckBackoff,"bnct")?(n(1778).setBackoffSubcookie("bnct"),a.checkSubscriptionChurn(function(t,s){var a=s.isOnboardError,r=s.pushManagerChurn;if(!t&&(a||r)&&o.resubscribeOnChurn){var l="subChurn";a&&o.enableSubsResyncIfError&&(l="subResync");var c=Object.assign({trackingParams:{sec:l,subsec:"browser-prompt"},showInstructionsDefault:!1,showInstructionsDenied:!1},o.subscriptionPayload);e.executeAction(n(2248),c),i&&i()}else i&&i(t)})):i&&i()},500)}else i&&i()}else i&&i()}}});